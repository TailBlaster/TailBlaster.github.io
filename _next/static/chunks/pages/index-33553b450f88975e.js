(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6354)}])},6354:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ue}});var n=r(6042),a=r(5893),s=r(7294),l=r(4671),o=r(8172),c=function(e,t){var r,n,a=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(r=e,n=0;r&&n<a.length;++n)r=r[a[n]];return r},i=(0,l.Z)((function(e){return{blocks:{},selectedId:"block_init",selectedIterator:1,selectedPage:"homepage",selectedDescription:"",selectedProject:"firstproject",panel:{right:!1,rescent:!1},setAttr:function(t){return e((0,o.ZP)((function(e){!function(e,t,r){var n=t.split("."),a=n.pop(),s=n.reduce((function(e,t){return e[t]=e[t]||{}}),e);s[a]=r}(e,t.path,t.value)})))},pushElement:function(t){return e((0,o.ZP)((function(e){c(e,t.path).push(t.element)})))},removeElement:function(t){return e((0,o.ZP)((function(e){c(e,t.path).splice(t.index,1)})))}}})),d={firstproject:{nicename:"First project",description:"TailBlaster starter project",pages:{homepage:{nicename:"Home page",thumbnail:null,blocks:{block_init:{content:'<div class="container mx-auto">\n  <div class="flex flex-col bg-gradient-to-r from-cyan-100 to-blue-100 shadow p-9 rounded gap-3 my-24">\n  \n    \x3c!-- Hero section --\x3e\n    <h1 class="font-bold text-3xl col-span-2">\n      Welcome to TailBlaster\n    </h1>\n    <p class="text-gray-600">\n      Component base manual TailWind Editor\n    </p>\n    <p class="text-blue-600 cursor-pointer border border-blue-600 w-max p-3 rounded">\n      Click me to edit\n    </p>\n    \n    \x3c!-- Try place your first component here! --\x3e\n    \n    <div class="text-sm text-slate-600 flex justify-end border border-dashed border-slate-600 py-3">\n    \n          \x3c!-- Tips card --\x3e\n          <div class="border rounded overflow-hidden">\n            <div class="px-3 py-1.5 border-b bg-orange-50">\n              Tips:\n            </div>\n            <div class="p-3 bg-slate-50 bg-opacity-70">\n              <ul class="flex flex-col gap-1.5 pr-6">\n                <li>Ctr+S: save page</li>\n                <li>Ctrl+O: open saved</li>\n                <li>Ctrl+D: local data</li>\n              </ul>\n            </div>\n        </div>\n    </div>\n  </div>\n</div>',children:[],properties:{},values:{}}}}}}},u={content:'<p class="bg-green-300 rounded p-3 shadow border border-green-600">\nNew child component with green background\n</p>',children:[],properties:{},values:{}},p={content:'<p class="bg-violet-300 rounded p-3 shadow border border-violet-600">\nNew child component with violet background\n</p>',children:[],properties:{},values:{}},h={content:'<p class="bg-sky-300 rounded p-3 shadow border border-sky-600">\nNew child component with sky background\n</p>',children:[],properties:{},values:{}},x={content:'<p class="bg-slate-300 rounded p-3 shadow border border-slate-600">\nNew child component with slate background\n</p>',children:[],properties:{},values:{}},f={content:'<p class="bg-orange-300 rounded p-3 shadow border border-orange-600">\nNew child component with orange background\n</p>',children:[],properties:{},values:{}},g={content:'<p class="bg-amber-300 rounded p-3 shadow border border-amber-600">\nNew child component with amber background\n</p>',children:[],properties:{},values:{}},m={content:'<p class="bg-cyan-300 rounded p-3 shadow border border-cyan-600">\nNew child component with cyan background\n</p>',children:[],properties:{},values:{}},v=r(4111),b=r(1438),j=r(2951),N=r(4924),y=r(8029),w=r(9534),k=r(828),A=r(9815),C=r(460),S=r(3935),T=r(5697),Z=r.n(T),I=1,P={},E={"'":"&#39",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};var F=function(e){(0,y.Z)(r,e);var t=(0,C.Z)(r);function r(){var e;return(0,b.Z)(this,r),e=t.apply(this,arguments),(0,N.Z)((0,v.Z)(e),"state",{hostNodes:P}),(0,N.Z)((0,v.Z)(e),"wrapperRef",s.createRef()),(0,N.Z)((0,v.Z)(e),"renderRef",s.createRef()),(0,N.Z)((0,v.Z)(e),"hostAttribute",""),e}return(0,j.Z)(r,[{key:"componentDidMount",value:function(){var e=(0,k.Z)(this.renderRef.current,2),t=e[0];e[1];this.wrapperRef.current.innerHTML=t,this.updateNodes()}},{key:"componentDidUpdate",value:function(){this.updateNodes()}},{key:"updateNodes",value:function(){var e=this.state.hostNodes,t=(0,k.Z)(this.renderRef.current,2),r=(t[0],t[1]),n={},a=!1;r.length&&this.wrapperRef.current.querySelectorAll("[".concat(this.hostAttribute,"]")).forEach((function(t){var r=t.dataset.templateKey,s=e[r];t!==s&&(s&&s.tagName===t.tagName?(t.parentNode.replaceChild(s,t),t=s):a=!0,n[r]=t)})),(a=a||Object.keys(e).length!==r.length)&&this.setState({hostNodes:n})}},{key:"renderTemplate",value:function(){var e=this,t=this.props,r=t.string,n=t.valuePattern,a=t.values,l=t.valueTags,o=t.defaultValueTag,c=t.escapeValues,i={},d=[],u="string"===typeof n?new RegExp(n,"g"):n;return[r.replace(u,(function(t,r,n){var u=a[n];if("string"!==typeof u){if(null==u)return"";if(Array.isArray(u)||s.isValidElement(u)){var p=l[n]||o,h=i[n]=(i[n]||0)+1,x="".concat(n,":").concat(h);return d.push([x,u]),e.hostAttribute||(e.hostAttribute='data-template-id="'.concat(I++,'"')),"<".concat(p," ").concat(e.hostAttribute,' data-template-key="').concat(x,'"></').concat(p,">")}u=u.toString()}return c?function(e){return e.replace(/['"&<>]/g,(function(e){return E[e]}))}(u):u})),d]}},{key:"render",value:function(){var e=!this.wrapperRef.current,t=this.props,r=t.as,l=(t.defaultValueTag,t.escapeValues,t.string,t.valuePattern,t.valueTags,t.values,(0,w.Z)(t,["as","defaultValueTag","escapeValues","string","valuePattern","valueTags","values"])),o=this.state.hostNodes,c=(0,k.Z)(this.renderTemplate(),2),i=c[0],d=c[1],u=e?[]:d.map((function(e){var t=(0,k.Z)(e,2),r=t[0],n=t[1],l=o[r];if(l)return(0,a.jsx)(s.Fragment,{children:S.createPortal(n,l)},r)}));this.renderRef.current=[i,d],l.ref=this.wrapperRef,l.key="template",l.suppressHydrationWarning=!0,l.dangerouslySetInnerHTML={__html:i};var p=(0,a.jsx)(r,(0,n.Z)({},l));return u.length?[p].concat((0,A.Z)(u)):p}}]),r}(s.PureComponent);(0,N.Z)(F,"displayName","Template"),(0,N.Z)(F,"propTypes",{string:Z().string.isRequired,values:Z().object,valueTags:Z().objectOf(Z().string),defaultValueTag:Z().string,escapeValues:Z().bool,valuePattern:Z().oneOfType([Z().string,Z().object]),as:Z().string}),(0,N.Z)(F,"reset",(function(){I=1})),(0,N.Z)(F,"defaultProps",{as:"div",defaultValueTag:"span",escapeValues:!0,valuePattern:/(\{([$\w]+)\})/g,valueTags:P,values:P});var O=r(6311),_=r.n(O),R=r(8325),V=(r(5433),r(9980),r(9396)),B=r(7913),M=r.n(B),D=r(1120),J=r.n(D),H=function(e){document.getElementById("mytextarea_id").focus(),document.execCommand("insertText",!1,"\n\n\x3c!-- </*component*/> --\x3e\n{".concat(e,"}\n"))},U=function(){var e=window.location.href.split("#")[1];if(e){if(e.includes("/")){var t=e.split("/");return{project:t[0],page:t[1]}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}},L=(r(3733),function(e){var t=e.key,r=e.children;return(0,a.jsx)("div",{className:"flex gap-1 border-b border-gray-900 p-3 items-center justify-between text-xs",children:r},t)}),q=function(e){var t=e.children;return(0,a.jsx)("div",{className:"bg-slate-700 bg-opacity-30 flex items-center border-b border-gray-900 p-3 text-slate-500 justify-between",children:t})},z=r(7219),W=function(e){e.className;var t=e.children,r=e.onClick,n=e.selectedState,s=void 0!==n&&n,l=e.width,o=void 0===l?"":l;return(0,a.jsx)("button",{onClick:r,title:"Button","aria-label":"Button",className:"".concat(s?"bg-slate-900":"bg-slate-700"," ").concat("max"==o?"w-max":" w-full","  cursor-pointer border-b border-gray-900 p-3 text-yellow-600   hover:bg-slate-900"),children:t})},K=function(){var e,t,r=i((function(e){return e.blocks})),n=i((function(e){return e.panel})),s=i((function(e){return e.selectedId})),l=i((function(e){return e.setAttr}));return(0,a.jsxs)(a.Fragment,{children:[(null===(e=r[s])||void 0===e?void 0:e.children.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q,{children:"Register childrens:"}),null===(t=r[s])||void 0===t?void 0:t.children.map((function(e,t){return(0,a.jsx)("div",{children:(0,a.jsxs)(L,{children:[(0,a.jsx)("span",{className:"text-sky-400 shadow",children:(0,a.jsx)(z.ND7,{})}),e,(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"p-1 border border-stone-600 rounded cursor-pointer",children:(0,a.jsx)(z.V7f,{})}),(0,a.jsx)("div",{className:"p-1 border border-stone-600 rounded cursor-pointer",children:(0,a.jsx)(z.Siq,{})})]})]})},t)}))]}):(0,a.jsx)(q,{children:"Haven't children components"}),(0,a.jsx)(W,{onClick:function(){var e={newComponent0:u,newComponent1:p,newComponent2:h,newComponent3:x,newComponent4:f,newComponent5:g,newComponent6:m},t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new(M())({length:e});return"".concat(t?"block_":"").concat(r())}(8);l({path:"blocks.".concat(t),value:e["newComponent".concat(Math.floor(5*Math.random()))]}),l({path:"blocks.".concat(t,".values"),value:{}}),l({path:"blocks.".concat(t,".properties"),value:{}}),l({path:"blocks.".concat(s,".children"),value:(0,A.Z)(r[s].children).concat([t])}),l({path:"panel.rescent",value:!1}),H("".concat(t))},children:"Add new"}),(0,a.jsx)(W,{onClick:function(){return l({path:"panel.rescent",value:!n.rescent})},selectedState:n.rescent,children:"Add rescent"})]})},X=r(3491),G=function(e){return e[0]},Q=function(e){return $(e[1],e[0])},Y=function(e,t,r){var n=t.split("."),a=n.pop(),s=n.reduce((function(e,t){return e[t]=e[t]||{}}),e);s[a]=r},$=function(e,t){var r,n,a=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(r=e,n=0;r&&n<a.length;++n)r=r[a[n]];return r},ee=function(e){var t=e.form,r=e.bottomSpace,n=void 0===r||r,s=e.type,l=void 0===s?"text":s;return(0,a.jsx)("input",{className:"text-xs border border-slate-900 shadow-inner bg-slate-600 bg-opacity-50 w-full p-3 ".concat(n?"mb-3":""),id:G(t),onChange:function(e){return function(e,t){var r=Object.assign({},e[1]);Y(r,e[0],t),e[2](r)}(t,e.target.value)},defaultValue:Q(t),type:l})},te=function(){var e=i((function(e){return e.blocks})),t=i((function(e){return e.selectedId}));return(0,a.jsxs)("div",{className:"relative flex-1 min-h-[70%] border-t border-gray-900",children:[(0,a.jsxs)(q,{children:[(0,a.jsx)("span",{className:"w-max mr-24",children:"Select rescent components"}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsx)(ee,{bottomSpace:!1,form:[]}),(0,a.jsx)(W,{width:"max",children:"Search"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 p-3 gap-1",children:[Object.keys(e).map((function(r){return r!=t&&"block_init"!=r?(0,a.jsxs)("div",{onClick:function(){H("".concat(r))},className:"border border-gray-600 ",children:[(0,a.jsx)("div",{className:"h-24 p-1 overflow-hidden",children:(0,a.jsx)(X.Z,{string:e[r].content})}),(0,a.jsx)("div",{className:"bg-gray-600 p-3",children:r})]}):(0,a.jsx)(a.Fragment,{})})),0===e.length?(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("p",{children:"You dont create any components yet! "}),(0,a.jsx)("p",{children:"Add some new components to reusable it as rescent compoonents"})]}):null]})]})},re=function(e){var t=e.showClose,r=void 0===t||t,n=i((function(e){return e.panel})),s=i((function(e){return e.setAttr}));return(0,a.jsxs)("div",{className:"absolute -ml-10 top-12",children:[(0,a.jsx)("div",{onClick:function(){"editor"===n.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"editor"})},className:"".concat("editor"===n.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.xqv,{})}),(0,a.jsx)("div",{onClick:function(){"loadpage"===n.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"loadpage"})},className:"".concat("loadpage"===n.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.tHe,{})}),(0,a.jsx)("div",{onClick:function(){"savepage"===n.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"savepage"})},className:"".concat("savepage"===n.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.mW3,{})}),(0,a.jsx)("div",{onClick:function(){"componentslibrary"===n.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"componentslibrary"})},className:"".concat("componentslibrary"===n.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.aCJ,{})}),(0,a.jsx)("div",{onClick:function(){"datalayer"===n.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"datalayer"})},className:"".concat("datalayer"===n.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.bGz,{})}),r?(0,a.jsx)("div",{onClick:function(){return s({path:"panel.right",value:!1})},className:" p-3 bg-slate-700 rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600",children:(0,a.jsx)(z.Tfp,{})}):null]})},ne=function(e){e.children;var t=i((function(e){return e.blocks})),r=i((function(e){return e.selectedId})),n=i((function(e){return e.setAttr})),l=(0,s.useState)(t[r].properties),o=l[0],c=l[1];return(0,a.jsxs)("div",{className:"border-b border-slate-900",children:[(0,a.jsxs)(q,{children:[(0,a.jsx)("p",{className:"",children:"Properties"}),(0,a.jsx)("div",{onClick:function(){return n({path:"panel.right",value:"componentproperties"})},className:"text-xl cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-l border-slate-900 -m-3 p-3",children:(0,a.jsx)(z.nbt,{})})]}),(0,a.jsxs)("form",{className:"pt-3",onSubmit:function(e){e.preventDefault(),n({path:"blocks.".concat(r,".values"),value:o}),console.log(t)},children:[Object.keys(t[r].properties).map((function(e){return e!=r&&"block_init"!=e?(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"px-3 text-xs",children:e}),(0,a.jsx)("div",{className:"px-1.5",children:(0,a.jsx)(ee,{form:[e,o,c]})})]}):(0,a.jsx)(a.Fragment,{})})),Object.keys(t[r].properties).length>0&&(0,a.jsx)("div",{className:"px-2 pb-2",children:(0,a.jsx)(W,{children:"Update"})})]})]})},ae=function(){var e=i((function(e){return e.blocks})),t=i((function(e){return e.panel})),r=i((function(e){return e.selectedId})),n=i((function(e){return e.selectedIterator})),l=i((function(e){return e.setAttr})),o=(0,s.useState)(e[r].content),c=o[0],d=o[1],u=(0,s.useState)(!0),p=u[0],h=u[1];return(0,s.useEffect)((function(){d(e[r].content)}),[r]),(0,s.useEffect)((function(){!function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerHTML===e}(c)?h(!1):(h(!0),l({path:"blocks.".concat(r,".content"),value:c}))}),[c]),(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(re,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm flex",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,a.jsx)(q,{children:(0,a.jsxs)("div",{children:["Component: ",(0,a.jsx)("span",{className:"text-sky-200",children:r})," : ",n]})}),p?null:(0,a.jsx)("div",{className:"p-3 bg-red-700 text-white",children:"Html code isnt valid"}),(0,a.jsx)("div",{className:" h-full max-h-[90vh] overflow-y-scroll scrollbar scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800",children:(0,a.jsx)(_(),{textareaId:"mytextarea_id",autoFocus:!0,value:c,onValueChange:function(e){return d(e)},highlight:function(e){return(0,R.highlight)(e,R.languages.js)},padding:10,style:{border:"1px solid #1f293700",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14}})}),t.rescent?(0,a.jsx)(te,{}):(0,a.jsx)("div",{className:"flex-1 h-full"})]}),(0,a.jsxs)("div",{className:"border-l border-gray-900 -mr-px ",children:[(0,a.jsx)(ne,{}),(0,a.jsx)(K,{})]})]})]})},se=function(){var e=i((function(e){return e.blocks})),t=(i((function(e){return e.selectedId})),i((function(e){return e.selectedPage}))),r=i((function(e){return e.selectedProject})),l=(i((function(e){return e.setAttr})),(0,s.useState)(!0)),o=l[0],c=l[1],d=(0,s.useState)({name:t,description:"",thumbnail:""}),u=d[0],p=d[1];return(0,s.useEffect)((function(){!function(e,t,r){setTimeout((function(){J()(document.getElementById("mainFrame"),{allowTaint:!0,imageTimeout:500,logging:!0}).then((function(a){var s=a.toDataURL("image/png",1),l=new Image;l.src=s;var o=document.getElementById("thumbnail");o&&(o.appendChild(l),e(!1),t((0,V.Z)((0,n.Z)({},r),{thumbnail:s})))}))}),500)}(c,p,u)}),[]),(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(re,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)(q,{children:"Save page"}),(0,a.jsxs)("div",{className:"grid p-3 grid-cols-2 gap-3",children:[(0,a.jsx)("div",{className:"w-full flex flex-col gap-1 items-start",children:(0,a.jsxs)("form",{className:"flex flex-col gap-2 w-full",onSubmit:function(n){n.preventDefault();var a=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));u.name===t?a[r].pages[t].blocks=e:a[r].pages[u.name]={nicename:"",thumbnail:"",blocks:e,children:[]},sessionStorage.setItem("tailBlasterProjects",JSON.stringify(a))},children:[(0,a.jsx)("label",{children:"Insert page title"}),(0,a.jsx)(ee,{form:["name",u,p]}),(0,a.jsx)("label",{children:"Description"}),(0,a.jsx)("textarea",{className:"border shadow-inner border-slate-900 bg-slate-700 w-full p-3 mb-3 scrollbar"}),(0,a.jsx)(W,{children:"Save"})]})}),(0,a.jsxs)("div",{className:"shadow border border-slate-900 p-4 rounded-lg bg-slate-700",children:[(0,a.jsxs)("div",{className:"pb-1.5 flex",children:[(0,a.jsx)("div",{className:"mr-3",children:"Page previev"}),o?(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 ...",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null]}),(0,a.jsx)("div",{className:"relative border border-slate-900 max-h-[30vh] overflow-y-scroll scroll",id:"thumbnail"})]})]})]})]})},le=function(){var e=i((function(e){return e.setAttr})),t=i((function(e){return e.selectedProject})),r=(0,s.useState)({}),n=r[0],l=r[1];return(0,s.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));l(e[t].pages)}),[]),(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(re,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)(q,{children:"Load page"}),(0,a.jsx)("div",{className:"flex p-3 gap-3",children:Object.keys(n).map((function(t){return(0,a.jsxs)("div",{onClick:function(){window.location.href="#firstproject/".concat(t),e({path:"selectedPage",value:t})},className:"bg-slate-700 hover:bg-slate-900 cursor-pointer p-3 rounded flex items-center gap-1",children:[" ",(0,a.jsx)(z.tHe,{}),t]})}))})]})]})},oe=function(){i((function(e){return e.blocks})),i((function(e){return e.selectedId})),i((function(e){return e.setAttr}));return(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(re,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)(q,{children:"Components library"}),(0,a.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,a.jsx)("p",{className:"p-3",children:"Upload components from file:"})]})]})},ce=function(){i((function(e){return e.blocks})),i((function(e){return e.selectedId})),i((function(e){return e.setAttr}));return(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(re,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)(q,{children:"Data layer"}),(0,a.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,a.jsx)("p",{className:"p-3",children:"Configure REST endpoint to parse external data and display on your components"}),(0,a.jsx)("p",{className:"p-3",children:"Two default layer (Global project data and current page data)"})]})]})},ie=function(){var e=i((function(e){return e.blocks})),t=i((function(e){return e.selectedId})),r=i((function(e){return e.setAttr})),n=(0,s.useState)(JSON.stringify(e[t].properties)),l=n[0],o=n[1],c=(0,s.useState)(!0),d=c[0],u=c[1];return(0,s.useEffect)((function(){u(function(e){try{return JSON.parse(e)&&!!e}catch(t){return!1}}(l))}),[l]),(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(re,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsxs)(q,{children:[" ",(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{onClick:function(){return r({path:"panel.right",value:"editor"})},className:"text-xl h-full cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-r border-slate-900 -m-3 p-3",children:(0,a.jsx)(z.YFh,{})}),(0,a.jsx)("span",{className:"ml-6",children:"Component properties"})]})]}),(0,a.jsx)("h1",{className:"text-xl p-3",children:t}),(0,a.jsxs)(q,{children:["On this version, create only one level JSON, where key is prop name",(0,a.jsx)("br",{}),"and value is prop type (string or number)"]}),(0,a.jsx)(_(),{textareaId:"mytextarea_id",autoFocus:!0,value:l,onValueChange:function(e){return o(e)},highlight:function(e){return(0,R.highlight)(e,R.languages.js)},padding:10,style:{border:"1px solid #1f293700",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14}}),d?(0,a.jsx)(W,{onClick:function(){r({path:"blocks.".concat(t,".properties"),value:JSON.parse(l)})},children:"Save properties"}):(0,a.jsx)("div",{className:"bg-stone-700 border-t border-yellow-800 text-slate-300 p-3",children:"Data format (JSON) is invalid"})]})]})},de=function(){var e=i((function(e){return e.blocks})),t=i((function(e){return e.selectedId})),r=i((function(e){return e.selectedPage})),l=i((function(e){return e.setAttr})),o=i((function(e){return e.panel}));(0,s.useEffect)((function(){var e=!1;document.onkeyup=function(t){17==t.keyCode&&(e=!1)},document.onkeydown=function(t){return 17==t.keyCode&&(e=!0),83==t.keyCode&&1==e?(l({path:"panel.right",value:"savepage"}),!1):79==t.keyCode&&1==e?(l({path:"panel.right",value:"loadpage"}),!1):68==t.keyCode&&1==e?(l({path:"panel.right",value:"datalayer"}),!1):void 0};var t=U();l({path:"selectedPage",value:t.page})})),(0,s.useEffect)((function(){var e=U(),t=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));t||(sessionStorage.setItem("tailBlasterProjects",JSON.stringify(d)),t=d),e.project&&e.page?l({path:"blocks",value:t[e.project].pages[e.page].blocks}):alert("load data error")}),[r]);var c=function(e){var r,s,o=e.data,i=e.name,d=e.iterator;d.push(!0);var u=d.length,p=(null===(r=o[i])||void 0===r?void 0:r.values)?(0,n.Z)({},o[i].values):{};return(null===(s=o[i])||void 0===s?void 0:s.children)&&o[i].children.map((function(e){p[e]=(0,a.jsx)(c,{data:o,name:e,iterator:d})})),o[i]?(0,a.jsxs)("div",{onClick:function(e){e.stopPropagation(),l({path:"selectedId",value:i}),l({path:"selectedIterator",value:u}),l({path:"panel.right",value:"editor"}),l({path:"panel.rescent",value:!1})},className:"".concat(t==i?"border-solid border-stone-400":"border-dashed border-stone-200"," border relative"),children:[(0,a.jsx)("div",{className:"text-xs text-white -top-1 -left-1 bg-opacity-50 absolute rounded-lg bg-black px-1 w-4 h-4 flex items-center",children:u}),(0,a.jsx)(F,{string:o[i].content,values:p})]}):null},u=Object.keys(e)[0];return(0,a.jsxs)("div",{className:"relative flex h-screen overflow-hidden w-full",children:["componentproperties"===o.right?(0,a.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"flex-1 h-full grid",children:(0,a.jsx)("div",{className:"w-max h-max m-auto bg-white shadow border border-stone-300",children:(0,a.jsx)(F,{string:e[t].content,values:{}})})}):(0,a.jsx)("div",{id:"mainFrame",className:"flex-1 h-max",children:(0,a.jsx)(c,{data:e,name:u,iterator:[]})}),"editor"===o.right?(0,a.jsx)(ae,{}):(0,a.jsx)(a.Fragment,{}),"savepage"===o.right?(0,a.jsx)(se,{}):(0,a.jsx)(a.Fragment,{}),"loadpage"===o.right?(0,a.jsx)(le,{}):(0,a.jsx)(a.Fragment,{}),"componentslibrary"===o.right?(0,a.jsx)(oe,{}):(0,a.jsx)(a.Fragment,{}),"datalayer"===o.right?(0,a.jsx)(ce,{}):(0,a.jsx)(a.Fragment,{}),"componentproperties"===o.right?(0,a.jsx)(ie,{}):(0,a.jsx)(a.Fragment,{}),!1===o.right?(0,a.jsx)("div",{className:"text-gray-400",children:(0,a.jsx)(re,{showClose:!1})}):(0,a.jsx)(a.Fragment,{})]})};de.getInitialProps=function(){return{}};var ue=de}},function(e){e.O(0,[443,428,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);