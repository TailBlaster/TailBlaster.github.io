(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6354)}])},6354:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ue}});var r=n(5893),a=n(7294),s=n(4671),l=n(8172),o=function(e,t){var n,r,a=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(n=e,r=0;n&&r<a.length;++r)n=n[a[r]];return n},c=(0,s.Z)((function(e){return{blocks:{},selectedId:"block_init",selectedIterator:1,selectedPage:"homepage",selectedDescription:"",selectedProject:"firstproject",panel:{right:!1,rescent:!1},setAttr:function(t){return e((0,l.ZP)((function(e){!function(e,t,n){var r=t.split("."),a=r.pop(),s=r.reduce((function(e,t){return e[t]=e[t]||{}}),e);s[a]=n}(e,t.path,t.value)})))},pushElement:function(t){return e((0,l.ZP)((function(e){o(e,t.path).push(t.element)})))},removeElement:function(t){return e((0,l.ZP)((function(e){o(e,t.path).splice(t.index,1)})))}}})),i={firstproject:{nicename:"First project",description:"TailBlaster starter project",pages:{homepage:{nicename:"Home page",thumbnail:null,blocks:{block_init:{content:'<div class="container mx-auto">\n  <div class="flex flex-col bg-gradient-to-r from-cyan-100 to-blue-100 shadow p-9 rounded gap-3 my-24">\n  \n    \x3c!-- Hero section --\x3e\n    <h1 class="font-bold text-3xl col-span-2">\n      Welcome to TailBlaster\n    </h1>\n    <p class="text-gray-600">\n      Component base manual TailWind Editor\n    </p>\n    <p class="text-blue-600 cursor-pointer border border-blue-600 w-max p-3 rounded">\n      Click me to edit\n    </p>\n    \n    \x3c!-- Try place your first component here! --\x3e\n    \n    <div class="text-sm text-slate-600 flex justify-end border border-dashed border-slate-600 py-3">\n    \n          \x3c!-- Tips card --\x3e\n          <div class="border rounded overflow-hidden">\n            <div class="px-3 py-1.5 border-b bg-orange-50">\n              Tips:\n            </div>\n            <div class="p-3 bg-slate-50 bg-opacity-70">\n              <ul class="flex flex-col gap-1.5 pr-6">\n                <li>Ctr+S: save page</li>\n                <li>Ctrl+O: open saved</li>\n                <li>Ctrl+D: local data</li>\n              </ul>\n            </div>\n        </div>\n    </div>\n  </div>\n</div>',children:[],properties:{}}}}}}},d={content:'<p class="bg-green-300 rounded p-3 shadow border border-green-600">\nNew child component with green background\n</p>',children:[]},u={content:'<p class="bg-violet-300 rounded p-3 shadow border border-violet-600">\nNew child component with violet background\n</p>',children:[]},p={content:'<p class="bg-sky-300 rounded p-3 shadow border border-sky-600">\nNew child component with sky background\n</p>',children:[]},h={content:'<p class="bg-slate-300 rounded p-3 shadow border border-slate-600">\nNew child component with slate background\n</p>',children:[]},x={content:'<p class="bg-orange-300 rounded p-3 shadow border border-orange-600">\nNew child component with orange background\n</p>',children:[]},f={content:'<p class="bg-amber-300 rounded p-3 shadow border border-amber-600">\nNew child component with amber background\n</p>',children:[]},g={content:'<p class="bg-cyan-300 rounded p-3 shadow border border-cyan-600">\nNew child component with cyan background\n</p>',children:[]},m=n(4111),v=n(1438),b=n(2951),j=n(4924),N=n(8029),y=n(6042),w=n(9534),k=n(828),A=n(9815),C=n(460),S=n(3935),T=n(5697),Z=n.n(T),I=1,P={},E={"'":"&#39",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};var F=function(e){(0,N.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;return(0,v.Z)(this,n),e=t.apply(this,arguments),(0,j.Z)((0,m.Z)(e),"state",{hostNodes:P}),(0,j.Z)((0,m.Z)(e),"wrapperRef",a.createRef()),(0,j.Z)((0,m.Z)(e),"renderRef",a.createRef()),(0,j.Z)((0,m.Z)(e),"hostAttribute",""),e}return(0,b.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,k.Z)(this.renderRef.current,2),t=e[0];e[1];this.wrapperRef.current.innerHTML=t,this.updateNodes()}},{key:"componentDidUpdate",value:function(){this.updateNodes()}},{key:"updateNodes",value:function(){var e=this.state.hostNodes,t=(0,k.Z)(this.renderRef.current,2),n=(t[0],t[1]),r={},a=!1;n.length&&this.wrapperRef.current.querySelectorAll("[".concat(this.hostAttribute,"]")).forEach((function(t){var n=t.dataset.templateKey,s=e[n];t!==s&&(s&&s.tagName===t.tagName?(t.parentNode.replaceChild(s,t),t=s):a=!0,r[n]=t)})),(a=a||Object.keys(e).length!==n.length)&&this.setState({hostNodes:r})}},{key:"renderTemplate",value:function(){var e=this,t=this.props,n=t.string,r=t.valuePattern,s=t.values,l=t.valueTags,o=t.defaultValueTag,c=t.escapeValues,i={},d=[],u="string"===typeof r?new RegExp(r,"g"):r;return[n.replace(u,(function(t,n,r){var u=s[r];if("string"!==typeof u){if(null==u)return"";if(Array.isArray(u)||a.isValidElement(u)){var p=l[r]||o,h=i[r]=(i[r]||0)+1,x="".concat(r,":").concat(h);return d.push([x,u]),e.hostAttribute||(e.hostAttribute='data-template-id="'.concat(I++,'"')),"<".concat(p," ").concat(e.hostAttribute,' data-template-key="').concat(x,'"></').concat(p,">")}u=u.toString()}return c?function(e){return e.replace(/['"&<>]/g,(function(e){return E[e]}))}(u):u})),d]}},{key:"render",value:function(){var e=!this.wrapperRef.current,t=this.props,n=t.as,s=(t.defaultValueTag,t.escapeValues,t.string,t.valuePattern,t.valueTags,t.values,(0,w.Z)(t,["as","defaultValueTag","escapeValues","string","valuePattern","valueTags","values"])),l=this.state.hostNodes,o=(0,k.Z)(this.renderTemplate(),2),c=o[0],i=o[1],d=e?[]:i.map((function(e){var t=(0,k.Z)(e,2),n=t[0],s=t[1],o=l[n];if(o)return(0,r.jsx)(a.Fragment,{children:S.createPortal(s,o)},n)}));this.renderRef.current=[c,i],s.ref=this.wrapperRef,s.key="template",s.suppressHydrationWarning=!0,s.dangerouslySetInnerHTML={__html:c};var u=(0,r.jsx)(n,(0,y.Z)({},s));return d.length?[u].concat((0,A.Z)(d)):u}}]),n}(a.PureComponent);(0,j.Z)(F,"displayName","Template"),(0,j.Z)(F,"propTypes",{string:Z().string.isRequired,values:Z().object,valueTags:Z().objectOf(Z().string),defaultValueTag:Z().string,escapeValues:Z().bool,valuePattern:Z().oneOfType([Z().string,Z().object]),as:Z().string}),(0,j.Z)(F,"reset",(function(){I=1})),(0,j.Z)(F,"defaultProps",{as:"div",defaultValueTag:"span",escapeValues:!0,valuePattern:/(\{([$\w]+)\})/g,valueTags:P,values:P});var O=n(6311),_=n.n(O),R=n(8325),V=(n(5433),n(9980),n(9396)),B=n(7913),M=n.n(B),D=n(1120),J=n.n(D),H=function(e){document.getElementById("mytextarea_id").focus(),document.execCommand("insertText",!1,"\n\n\x3c!-- </*component*/> --\x3e\n{".concat(e,"}\n"))},U=function(){var e=window.location.href.split("#")[1];if(e){if(e.includes("/")){var t=e.split("/");return{project:t[0],page:t[1]}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}},L=(n(3733),function(e){var t=e.key,n=e.children;return(0,r.jsx)("div",{className:"flex gap-1 border-b border-gray-900 p-3 items-center justify-between text-xs",children:n},t)}),q=function(e){var t=e.children;return(0,r.jsx)("div",{className:"bg-slate-700 bg-opacity-30 flex items-center border-b border-gray-900 p-3 text-slate-500 justify-between",children:t})},z=n(7219),W=function(e){e.className;var t=e.children,n=e.onClick,a=e.selectedState,s=void 0!==a&&a,l=e.width,o=void 0===l?"":l;return(0,r.jsx)("button",{onClick:n,title:"Button","aria-label":"Button",className:"".concat(s?"bg-slate-900":"bg-slate-700"," ").concat("max"==o?"w-max":" w-full","  cursor-pointer border-b border-gray-900 p-3 text-yellow-600   hover:bg-slate-900"),children:t})},K=function(){var e,t,n=c((function(e){return e.blocks})),a=c((function(e){return e.panel})),s=c((function(e){return e.selectedId})),l=c((function(e){return e.setAttr}));return(0,r.jsxs)(r.Fragment,{children:[(null===(e=n[s])||void 0===e?void 0:e.children.length)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{children:"Register childrens:"}),null===(t=n[s])||void 0===t?void 0:t.children.map((function(e,t){return(0,r.jsx)("div",{children:(0,r.jsxs)(L,{children:[(0,r.jsx)("span",{className:"text-sky-400 shadow",children:(0,r.jsx)(z.ND7,{})}),e,(0,r.jsxs)("div",{className:"flex gap-1",children:[(0,r.jsx)("div",{className:"p-1 border border-stone-600 rounded cursor-pointer",children:(0,r.jsx)(z.V7f,{})}),(0,r.jsx)("div",{className:"p-1 border border-stone-600 rounded cursor-pointer",children:(0,r.jsx)(z.Siq,{})})]})]})},t)}))]}):(0,r.jsx)(q,{children:"Haven't children components"}),(0,r.jsx)(W,{onClick:function(){var e={newComponent0:d,newComponent1:u,newComponent2:p,newComponent3:h,newComponent4:x,newComponent5:f,newComponent6:g},t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new(M())({length:e});return"".concat(t?"block_":"").concat(n())}(8);l({path:"blocks.".concat(t),value:e["newComponent".concat(Math.floor(5*Math.random()))]}),l({path:"blocks.".concat(t,".values"),value:{}}),l({path:"blocks.".concat(t,".properties"),value:{}}),l({path:"blocks.".concat(s,".children"),value:(0,A.Z)(n[s].children).concat([t])}),l({path:"panel.rescent",value:!1}),H("".concat(t))},children:"Add new"}),(0,r.jsx)(W,{onClick:function(){return l({path:"panel.rescent",value:!a.rescent})},selectedState:a.rescent,children:"Add rescent"})]})},X=n(3491),G=function(e){return e[0]},Q=function(e){return $(e[1],e[0])},Y=function(e,t,n){var r=t.split("."),a=r.pop(),s=r.reduce((function(e,t){return e[t]=e[t]||{}}),e);s[a]=n},$=function(e,t){var n,r,a=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(n=e,r=0;n&&r<a.length;++r)n=n[a[r]];return n},ee=function(e){var t=e.form,n=e.bottomSpace,a=void 0===n||n,s=e.type,l=void 0===s?"text":s;return(0,r.jsx)("input",{className:"text-xs border border-slate-900 shadow-inner bg-slate-600 bg-opacity-50 w-full p-3 ".concat(a?"mb-3":""),id:G(t),onChange:function(e){return function(e,t){var n=Object.assign({},e[1]);Y(n,e[0],t),e[2](n)}(t,e.target.value)},defaultValue:Q(t),type:l})},te=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.selectedId}));return(0,r.jsxs)("div",{className:"relative flex-1 min-h-[70%] border-t border-gray-900",children:[(0,r.jsxs)(q,{children:[(0,r.jsx)("span",{className:"w-max mr-24",children:"Select rescent components"}),(0,r.jsxs)("div",{className:"flex flex-1",children:[(0,r.jsx)(ee,{bottomSpace:!1,form:[]}),(0,r.jsx)(W,{width:"max",children:"Search"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 p-3 gap-1",children:[Object.keys(e).map((function(n){return n!=t&&"block_init"!=n?(0,r.jsxs)("div",{onClick:function(){H("".concat(n))},className:"border border-gray-600 ",children:[(0,r.jsx)("div",{className:"h-24 p-1 overflow-hidden",children:(0,r.jsx)(X.Z,{string:e[n].content})}),(0,r.jsx)("div",{className:"bg-gray-600 p-3",children:n})]}):(0,r.jsx)(r.Fragment,{})})),0===e.length?(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)("p",{children:"You dont create any components yet! "}),(0,r.jsx)("p",{children:"Add some new components to reusable it as rescent compoonents"})]}):null]})]})},ne=function(e){var t=e.showClose,n=void 0===t||t,a=c((function(e){return e.panel})),s=c((function(e){return e.setAttr}));return(0,r.jsxs)("div",{className:"absolute -ml-10 top-12",children:[(0,r.jsx)("div",{onClick:function(){"editor"===a.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"editor"})},className:"".concat("editor"===a.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,r.jsx)(z.xqv,{})}),(0,r.jsx)("div",{onClick:function(){"loadpage"===a.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"loadpage"})},className:"".concat("loadpage"===a.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,r.jsx)(z.tHe,{})}),(0,r.jsx)("div",{onClick:function(){"savepage"===a.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"savepage"})},className:"".concat("savepage"===a.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,r.jsx)(z.mW3,{})}),(0,r.jsx)("div",{onClick:function(){"componentslibrary"===a.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"componentslibrary"})},className:"".concat("componentslibrary"===a.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,r.jsx)(z.aCJ,{})}),(0,r.jsx)("div",{onClick:function(){"datalayer"===a.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"datalayer"})},className:"".concat("datalayer"===a.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,r.jsx)(z.bGz,{})}),n?(0,r.jsx)("div",{onClick:function(){return s({path:"panel.right",value:!1})},className:" p-3 bg-slate-700 rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600",children:(0,r.jsx)(z.Tfp,{})}):null]})},re=function(e){e.children;var t=c((function(e){return e.blocks})),n=c((function(e){return e.selectedId})),s=c((function(e){return e.setAttr})),l=(0,a.useState)(t[n].properties),o=l[0],i=l[1];return(0,r.jsxs)("div",{className:"border-b border-slate-900",children:[(0,r.jsxs)(q,{children:[(0,r.jsx)("p",{className:"",children:"Properties"}),(0,r.jsx)("div",{onClick:function(){return s({path:"panel.right",value:"componentproperties"})},className:"text-xl cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-l border-slate-900 -m-3 p-3",children:(0,r.jsx)(z.nbt,{})})]}),(0,r.jsxs)("form",{className:"pt-3",onSubmit:function(e){e.preventDefault(),s({path:"blocks.".concat(n,".values"),value:o}),console.log(t)},children:[Object.keys(t[n].properties).map((function(e){return e!=n&&"block_init"!=e?(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{className:"px-3 text-xs",children:e}),(0,r.jsx)("div",{className:"px-1.5",children:(0,r.jsx)(ee,{form:[e,o,i]})})]}):(0,r.jsx)(r.Fragment,{})})),Object.keys(t[n].properties).length>0&&(0,r.jsx)("div",{className:"px-2 pb-2",children:(0,r.jsx)(W,{children:"Update"})})]})]})},ae=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.panel})),n=c((function(e){return e.selectedId})),s=c((function(e){return e.selectedIterator})),l=c((function(e){return e.setAttr})),o=(0,a.useState)(e[n].content),i=o[0],d=o[1],u=(0,a.useState)(!0),p=u[0],h=u[1];return(0,a.useEffect)((function(){d(e[n].content)}),[n]),(0,a.useEffect)((function(){!function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerHTML===e}(i)?h(!1):(h(!0),l({path:"blocks.".concat(n,".content"),value:i}))}),[i]),(0,r.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,r.jsx)(ne,{}),(0,r.jsxs)("div",{className:"flex-1 text-sm flex",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,r.jsx)(q,{children:(0,r.jsxs)("div",{children:["Component: ",(0,r.jsx)("span",{className:"text-sky-200",children:n})," : ",s]})}),p?null:(0,r.jsx)("div",{className:"p-3 bg-red-700 text-white",children:"Html code isnt valid"}),(0,r.jsx)("div",{className:" h-full max-h-[90vh] overflow-y-scroll scrollbar scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800",children:(0,r.jsx)(_(),{textareaId:"mytextarea_id",autoFocus:!0,value:i,onValueChange:function(e){return d(e)},highlight:function(e){return(0,R.highlight)(e,R.languages.js)},padding:10,style:{border:"1px solid #1f293700",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14}})}),t.rescent?(0,r.jsx)(te,{}):(0,r.jsx)("div",{className:"flex-1 h-full"})]}),(0,r.jsxs)("div",{className:"border-l border-gray-900 -mr-px ",children:[(0,r.jsx)(re,{}),(0,r.jsx)(K,{})]})]})]})},se=function(){var e=c((function(e){return e.blocks})),t=(c((function(e){return e.selectedId})),c((function(e){return e.selectedPage}))),n=c((function(e){return e.selectedProject})),s=(c((function(e){return e.setAttr})),(0,a.useState)(!0)),l=s[0],o=s[1],i=(0,a.useState)({name:t,description:"",thumbnail:""}),d=i[0],u=i[1];return(0,a.useEffect)((function(){!function(e,t,n){setTimeout((function(){J()(document.getElementById("mainFrame"),{allowTaint:!0,imageTimeout:500,logging:!0}).then((function(r){var a=r.toDataURL("image/png",1),s=new Image;s.src=a;var l=document.getElementById("thumbnail");l&&(l.appendChild(s),e(!1),t((0,V.Z)((0,y.Z)({},n),{thumbnail:a})))}))}),500)}(o,u,d)}),[]),(0,r.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,r.jsx)(ne,{}),(0,r.jsxs)("div",{className:"flex-1 text-sm",children:[(0,r.jsx)(q,{children:"Save page"}),(0,r.jsxs)("div",{className:"grid p-3 grid-cols-2 gap-3",children:[(0,r.jsx)("div",{className:"w-full flex flex-col gap-1 items-start",children:(0,r.jsxs)("form",{className:"flex flex-col gap-2 w-full",onSubmit:function(r){r.preventDefault();var a=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));d.name===t?a[n].pages[t].blocks=e:a[n].pages[d.name]={nicename:"",thumbnail:"",blocks:e,children:[]},sessionStorage.setItem("tailBlasterProjects",JSON.stringify(a))},children:[(0,r.jsx)("label",{children:"Insert page title"}),(0,r.jsx)(ee,{form:["name",d,u]}),(0,r.jsx)("label",{children:"Description"}),(0,r.jsx)("textarea",{className:"border shadow-inner border-slate-900 bg-slate-700 w-full p-3 mb-3 scrollbar"}),(0,r.jsx)(W,{children:"Save"})]})}),(0,r.jsxs)("div",{className:"shadow border border-slate-900 p-4 rounded-lg bg-slate-700",children:[(0,r.jsxs)("div",{className:"pb-1.5 flex",children:[(0,r.jsx)("div",{className:"mr-3",children:"Page previev"}),l?(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 ...",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null]}),(0,r.jsx)("div",{className:"relative border border-slate-900 max-h-[30vh] overflow-y-scroll scroll",id:"thumbnail"})]})]})]})]})},le=function(){var e=c((function(e){return e.setAttr})),t=c((function(e){return e.selectedProject})),n=(0,a.useState)({}),s=n[0],l=n[1];return(0,a.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));l(e[t].pages)}),[]),(0,r.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,r.jsx)(ne,{}),(0,r.jsxs)("div",{className:"flex-1 text-sm",children:[(0,r.jsx)(q,{children:"Load page"}),(0,r.jsx)("div",{className:"flex p-3 gap-3",children:Object.keys(s).map((function(t){return(0,r.jsxs)("div",{onClick:function(){window.location.href="#firstproject/".concat(t),e({path:"selectedPage",value:t})},className:"bg-slate-700 hover:bg-slate-900 cursor-pointer p-3 rounded flex items-center gap-1",children:[" ",(0,r.jsx)(z.tHe,{}),t]})}))})]})]})},oe=function(){c((function(e){return e.blocks})),c((function(e){return e.selectedId})),c((function(e){return e.setAttr}));return(0,r.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,r.jsx)(ne,{}),(0,r.jsxs)("div",{className:"flex-1 text-sm",children:[(0,r.jsx)(q,{children:"Components library"}),(0,r.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,r.jsx)("p",{className:"p-3",children:"Upload components from file:"})]})]})},ce=function(){c((function(e){return e.blocks})),c((function(e){return e.selectedId})),c((function(e){return e.setAttr}));return(0,r.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,r.jsx)(ne,{}),(0,r.jsxs)("div",{className:"flex-1 text-sm",children:[(0,r.jsx)(q,{children:"Data layer"}),(0,r.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,r.jsx)("p",{className:"p-3",children:"Configure REST endpoint to parse external data and display on your components"}),(0,r.jsx)("p",{className:"p-3",children:"Two default layer (Global project data and current page data)"})]})]})},ie=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.selectedId})),n=c((function(e){return e.setAttr})),s=(0,a.useState)(JSON.stringify(e[t].properties)),l=s[0],o=s[1],i=(0,a.useState)(!0),d=i[0],u=i[1];return(0,a.useEffect)((function(){u(function(e){try{return JSON.parse(e)&&!!e}catch(t){return!1}}(l))}),[l]),(0,r.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,r.jsx)(ne,{}),(0,r.jsxs)("div",{className:"flex-1 text-sm",children:[(0,r.jsxs)(q,{children:[" ",(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{onClick:function(){return n({path:"panel.right",value:"editor"})},className:"text-xl h-full cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-r border-slate-900 -m-3 p-3",children:(0,r.jsx)(z.YFh,{})}),(0,r.jsx)("span",{className:"ml-6",children:"Component properties"})]})]}),(0,r.jsx)("h1",{className:"text-xl p-3",children:t}),(0,r.jsxs)(q,{children:["On this version, create only one level JSON, where key is prop name",(0,r.jsx)("br",{}),"and value is prop type (string or number)"]}),(0,r.jsx)(_(),{textareaId:"mytextarea_id",autoFocus:!0,value:l,onValueChange:function(e){return o(e)},highlight:function(e){return(0,R.highlight)(e,R.languages.js)},padding:10,style:{border:"1px solid #1f293700",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14}}),d?(0,r.jsx)(W,{onClick:function(){n({path:"blocks.".concat(t,".properties"),value:JSON.parse(l)})},children:"Save properties"}):(0,r.jsx)("div",{className:"bg-stone-700 border-t border-yellow-800 text-slate-300 p-3",children:"Data format (JSON) is invalid"})]})]})},de=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.selectedId})),n=c((function(e){return e.selectedPage})),s=c((function(e){return e.setAttr})),l=c((function(e){return e.panel}));(0,a.useEffect)((function(){var e=!1;document.onkeyup=function(t){17==t.keyCode&&(e=!1)},document.onkeydown=function(t){return 17==t.keyCode&&(e=!0),83==t.keyCode&&1==e?(s({path:"panel.right",value:"savepage"}),!1):79==t.keyCode&&1==e?(s({path:"panel.right",value:"loadpage"}),!1):68==t.keyCode&&1==e?(s({path:"panel.right",value:"datalayer"}),!1):void 0};var t=U();s({path:"selectedPage",value:t.page})})),(0,a.useEffect)((function(){var e=U(),t=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));t||(sessionStorage.setItem("tailBlasterProjects",JSON.stringify(i)),t=i),e.project&&e.page?s({path:"blocks",value:t[e.project].pages[e.page].blocks}):alert("load data error")}),[n]);var o=function(e){var n,a=e.data,l=e.name,c=e.values,i=e.iterator;i.push(!0);var d=i.length;return(null===(n=a[l])||void 0===n?void 0:n.children)&&a[l].children.map((function(e){c[e]=(0,r.jsx)(o,{data:a,name:e,values:a[e].values,iterator:i})})),a[l]?(0,r.jsxs)("div",{onClick:function(e){e.stopPropagation(),s({path:"selectedId",value:l}),s({path:"selectedIterator",value:d}),s({path:"panel.right",value:"editor"}),s({path:"panel.rescent",value:!1})},className:"".concat(t==l?"border-solid border-stone-400":"border-dashed border-stone-200"," border relative"),children:[(0,r.jsx)("div",{className:"text-xs text-white -top-1 -left-1 bg-opacity-50 absolute rounded-lg bg-black px-1 w-4 h-4 flex items-center",children:d}),(0,r.jsx)(F,{string:a[l].content,values:c})]}):null},d=Object.keys(e)[0];return(0,r.jsxs)("div",{className:"relative flex h-screen overflow-hidden w-full",children:["componentproperties"===l.right?(0,r.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"flex-1 h-full grid",children:(0,r.jsx)("div",{className:"w-max h-max m-auto bg-white shadow border border-stone-300",children:(0,r.jsx)(F,{string:e[t].content})})}):(0,r.jsx)("div",{id:"mainFrame",className:"flex-1 h-max",children:(0,r.jsx)(o,{data:e,name:d,values:{},iterator:[]})}),"editor"===l.right?(0,r.jsx)(ae,{}):(0,r.jsx)(r.Fragment,{}),"savepage"===l.right?(0,r.jsx)(se,{}):(0,r.jsx)(r.Fragment,{}),"loadpage"===l.right?(0,r.jsx)(le,{}):(0,r.jsx)(r.Fragment,{}),"componentslibrary"===l.right?(0,r.jsx)(oe,{}):(0,r.jsx)(r.Fragment,{}),"datalayer"===l.right?(0,r.jsx)(ce,{}):(0,r.jsx)(r.Fragment,{}),"componentproperties"===l.right?(0,r.jsx)(ie,{}):(0,r.jsx)(r.Fragment,{}),!1===l.right?(0,r.jsx)("div",{className:"text-gray-400",children:(0,r.jsx)(ne,{showClose:!1})}):(0,r.jsx)(r.Fragment,{})]})};de.getInitialProps=function(){return{}};var ue=de}},function(e){e.O(0,[443,428,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);