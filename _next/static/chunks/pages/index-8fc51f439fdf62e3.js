(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6354)}])},6354:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ue}});var r=n(6042),a=n(5893),s=n(7294),l=n(4671),o=n(8172),i=function(e,t){var n,r,a=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(n=e,r=0;n&&r<a.length;++r)n=n[a[r]];return n},c=(0,l.Z)((function(e){return{blocks:{},selectedId:"block_init",selectedIterator:1,selectedPage:"homepage",selectedDescription:"",selectedProject:"firstproject",panel:{right:!1,rescent:!1},setAttr:function(t){return e((0,o.ZP)((function(e){!function(e,t,n){var r=t.split("."),a=r.pop(),s=r.reduce((function(e,t){return e[t]=e[t]||{}}),e);s[a]=n}(e,t.path,t.value)})))},pushElement:function(t){return e((0,o.ZP)((function(e){i(e,t.path).push(t.element)})))},removeElement:function(t){return e((0,o.ZP)((function(e){i(e,t.path).splice(t.index,1)})))}}})),d={firstproject:{nicename:"First project",description:"TailBlaster starter project",pages:{homepage:{nicename:"Home page",thumbnail:null,blocks:{block_init:{content:'<div class="container mx-auto">\n  <div class="flex flex-col bg-gradient-to-tl from-stone-200 to-sky-200 shadow p-9 rounded-lg gap-3 my-24">\n\n    \x3c!-- *** Hero section *** --\x3e\n    <h1 class="font-bold text-3xl text-stone-700">\n      Welcome to TailBlaster\n    </h1>\n    <p class="text-stone-600">\n      Component base manual TailWind Editor\n    </p>\n    <p class="text-slate-100 cursor-pointer w-max p-3 rounded bg-slate-500 hover:bg-slate-600">\n      Click me to edit\n    </p>\n    \n    \x3c!-- *** ----------------------------------- *** --\x3e\n    \x3c!-- *** Try place your first component here *** --\x3e\n    \n    <div class="text-sm text-slate-600 flex justify-end border border-dashed border-slate-600 py-6 gap-6">\n        \n      \x3c!-- *** Main features *** --\x3e\n      <div class="border border-slate-300 rounded overflow-hidden shadow">\n          <div class="px-4 py-3 border-b border-slate-300 bg-slate-700 text-sm text-white">\n            Main features:\n          </div>\n          <div class="p-4 bg-slate-50 bg-opacity-70 h-full">\n            <ul class="flex flex-col gap-1.5 pr-6">\n              <li>Create reusable components with HTML editor</li>\n              <li>Copy directly from any open web resources</li>\n              <li>Add variants, rest connection, JAMstack export and more</li>\n            </ul>\n          </div>\n      </div>\n    \n      \x3c!-- *** Tips card *** --\x3e\n      <div class="border border-slate-300 rounded overflow-hidden shadow">\n        <div class="px-4 py-3 border-b border-slate-300 bg-slate-700 text-sm text-white">\n          Quick tips:\n        </div>\n        <div class="p-4 bg-slate-50 bg-opacity-70 h-full">\n          <ul class="flex flex-col gap-1.5 pr-6">\n            <li>Ctr+S: save page</li>\n            <li>Ctrl+O: open saved</li>\n            <li>Ctrl+D: local data</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>',children:[],properties:{},values:{}}}}}}},u={content:'<p class="bg-green-300 rounded p-3 shadow border border-green-600">\nNew child component with green background\n</p>',children:[],properties:{},values:{}},p={content:'<p class="bg-violet-300 rounded p-3 shadow border border-violet-600">\nNew child component with violet background\n</p>',children:[],properties:{},values:{}},h={content:'<p class="bg-sky-300 rounded p-3 shadow border border-sky-600">\nNew child component with sky background\n</p>',children:[],properties:{},values:{}},x={content:'<p class="bg-slate-300 rounded p-3 shadow border border-slate-600">\nNew child component with slate background\n</p>',children:[],properties:{},values:{}},m={content:'<p class="bg-orange-300 rounded p-3 shadow border border-orange-600">\nNew child component with orange background\n</p>',children:[],properties:{},values:{}},f={content:'<p class="bg-amber-300 rounded p-3 shadow border border-amber-600">\nNew child component with amber background\n</p>',children:[],properties:{},values:{}},g={content:'<p class="bg-cyan-300 rounded p-3 shadow border border-cyan-600">\nNew child component with cyan background\n</p>',children:[],properties:{},values:{}},v=n(4111),b=n(1438),j=n(2951),N=n(4924),y=n(8029),w=n(9534),k=n(828),A=n(9815),C=n(460),S=n(3935),P=n(5697),T=n.n(P),Z=1,I={},E={"'":"&#39",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};var F=function(e){(0,y.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;return(0,b.Z)(this,n),e=t.apply(this,arguments),(0,N.Z)((0,v.Z)(e),"state",{hostNodes:I}),(0,N.Z)((0,v.Z)(e),"wrapperRef",s.createRef()),(0,N.Z)((0,v.Z)(e),"renderRef",s.createRef()),(0,N.Z)((0,v.Z)(e),"hostAttribute",""),e}return(0,j.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,k.Z)(this.renderRef.current,2),t=e[0];e[1];this.wrapperRef.current.innerHTML=t,this.updateNodes()}},{key:"componentDidUpdate",value:function(){this.updateNodes()}},{key:"updateNodes",value:function(){var e=this.state.hostNodes,t=(0,k.Z)(this.renderRef.current,2),n=(t[0],t[1]),r={},a=!1;n.length&&this.wrapperRef.current.querySelectorAll("[".concat(this.hostAttribute,"]")).forEach((function(t){var n=t.dataset.templateKey,s=e[n];t!==s&&(s&&s.tagName===t.tagName?(t.parentNode.replaceChild(s,t),t=s):a=!0,r[n]=t)})),(a=a||Object.keys(e).length!==n.length)&&this.setState({hostNodes:r})}},{key:"renderTemplate",value:function(){var e=this,t=this.props,n=t.string,r=t.valuePattern,a=t.values,l=t.valueTags,o=t.defaultValueTag,i=t.escapeValues,c={},d=[],u="string"===typeof r?new RegExp(r,"g"):r;return[n.replace(u,(function(t,n,r){var u=a[r];if("string"!==typeof u){if(null==u)return"";if(Array.isArray(u)||s.isValidElement(u)){var p=l[r]||o,h=c[r]=(c[r]||0)+1,x="".concat(r,":").concat(h);return d.push([x,u]),e.hostAttribute||(e.hostAttribute='data-template-id="'.concat(Z++,'"')),"<".concat(p," ").concat(e.hostAttribute,' data-template-key="').concat(x,'"></').concat(p,">")}u=u.toString()}return i?function(e){return e.replace(/['"&<>]/g,(function(e){return E[e]}))}(u):u})),d]}},{key:"render",value:function(){var e=!this.wrapperRef.current,t=this.props,n=t.as,l=(t.defaultValueTag,t.escapeValues,t.string,t.valuePattern,t.valueTags,t.values,(0,w.Z)(t,["as","defaultValueTag","escapeValues","string","valuePattern","valueTags","values"])),o=this.state.hostNodes,i=(0,k.Z)(this.renderTemplate(),2),c=i[0],d=i[1],u=e?[]:d.map((function(e){var t=(0,k.Z)(e,2),n=t[0],r=t[1],l=o[n];if(l)return(0,a.jsx)(s.Fragment,{children:S.createPortal(r,l)},n)}));this.renderRef.current=[c,d],l.ref=this.wrapperRef,l.key="template",l.suppressHydrationWarning=!0,l.dangerouslySetInnerHTML={__html:c};var p=(0,a.jsx)(n,(0,r.Z)({},l));return u.length?[p].concat((0,A.Z)(u)):p}}]),n}(s.PureComponent);(0,N.Z)(F,"displayName","Template"),(0,N.Z)(F,"propTypes",{string:T().string.isRequired,values:T().object,valueTags:T().objectOf(T().string),defaultValueTag:T().string,escapeValues:T().bool,valuePattern:T().oneOfType([T().string,T().object]),as:T().string}),(0,N.Z)(F,"reset",(function(){Z=1})),(0,N.Z)(F,"defaultProps",{as:"div",defaultValueTag:"span",escapeValues:!0,valuePattern:/(\{([$\w]+)\})/g,valueTags:I,values:I});var O=n(6311),_=n.n(O),R=n(8325),M=(n(5433),n(9980),n(9396)),V=n(7913),B=n.n(V),D=n(1120),J=n.n(D),H=function(e){document.getElementById("mytextarea_id").focus(),document.execCommand("insertText",!1,"\n\n\x3c!-- </*component*/> --\x3e\n{".concat(e,"}\n"))},U=function(){var e=window.location.href.split("#")[1];if(e){if(e.includes("/")){var t=e.split("/");return{project:t[0],page:t[1]}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}},L=(n(3733),function(e){var t=e.key,n=e.children;return(0,a.jsx)("div",{className:"flex gap-1 border-b border-gray-900 p-3 items-center justify-between text-xs",children:n},t)}),q=function(e){var t=e.children;return(0,a.jsx)("div",{className:"bg-slate-700 bg-opacity-30 flex items-center border-b border-gray-900 p-3 text-slate-500 justify-between",children:t})},z=n(7219),W=function(e){e.className;var t=e.children,n=e.onClick,r=e.selectedState,s=void 0!==r&&r,l=e.width,o=void 0===l?"":l;return(0,a.jsx)("button",{onClick:n,title:"Button","aria-label":"Button",className:"".concat(s?"bg-slate-900":"bg-slate-700"," ").concat("max"==o?"w-max":" w-full","  cursor-pointer border-b border-gray-900 p-3 text-yellow-600   hover:bg-slate-900"),children:t})},K=function(){var e,t,n=c((function(e){return e.blocks})),r=c((function(e){return e.panel})),s=c((function(e){return e.selectedId})),l=c((function(e){return e.setAttr}));return(0,a.jsxs)(a.Fragment,{children:[(null===(e=n[s])||void 0===e?void 0:e.children.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q,{children:"Register childrens:"}),null===(t=n[s])||void 0===t?void 0:t.children.map((function(e,t){return(0,a.jsx)("div",{children:(0,a.jsxs)(L,{children:[(0,a.jsx)("span",{className:"text-sky-400 shadow",children:(0,a.jsx)(z.ND7,{})}),e,(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"p-1 border border-stone-600 rounded cursor-pointer",children:(0,a.jsx)(z.V7f,{})}),(0,a.jsx)("div",{className:"p-1 border border-stone-600 rounded cursor-pointer",children:(0,a.jsx)(z.Siq,{})})]})]})},t)}))]}):(0,a.jsx)(q,{children:"Haven't children components"}),(0,a.jsx)(W,{onClick:function(){var e={newComponent0:u,newComponent1:p,newComponent2:h,newComponent3:x,newComponent4:m,newComponent5:f,newComponent6:g},t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new(B())({length:e});return"".concat(t?"block_":"").concat(n())}(8);l({path:"blocks.".concat(t),value:e["newComponent".concat(Math.floor(5*Math.random()))]}),l({path:"blocks.".concat(t,".values"),value:{}}),l({path:"blocks.".concat(t,".properties"),value:{}}),l({path:"blocks.".concat(s,".children"),value:(0,A.Z)(n[s].children).concat([t])}),l({path:"panel.rescent",value:!1}),H("".concat(t))},children:"Add new"}),(0,a.jsx)(W,{onClick:function(){return l({path:"panel.rescent",value:!r.rescent})},selectedState:r.rescent,children:"Add rescent"})]})},Q=n(3491),X=function(e){return e[0]},G=function(e){return $(e[1],e[0])},Y=function(e,t,n){var r=t.split("."),a=r.pop(),s=r.reduce((function(e,t){return e[t]=e[t]||{}}),e);s[a]=n},$=function(e,t){var n,r,a=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(n=e,r=0;n&&r<a.length;++r)n=n[a[r]];return n},ee=function(e){var t=e.form,n=e.bottomSpace,r=void 0===n||n,s=e.type,l=void 0===s?"text":s;return(0,a.jsx)("input",{className:"text-xs border border-slate-900 shadow-inner bg-slate-600 bg-opacity-50 w-full p-3 ".concat(r?"mb-3":""),id:X(t),onChange:function(e){return function(e,t){var n=Object.assign({},e[1]);Y(n,e[0],t),e[2](n)}(t,e.target.value)},defaultValue:G(t),type:l})},te=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.selectedId}));return(0,a.jsxs)("div",{className:"relative flex-1 min-h-[70%] border-t border-gray-900",children:[(0,a.jsxs)(q,{children:[(0,a.jsx)("span",{className:"w-max mr-24",children:"Select rescent components"}),(0,a.jsxs)("div",{className:"flex flex-1",children:[(0,a.jsx)(ee,{bottomSpace:!1,form:[]}),(0,a.jsx)(W,{width:"max",children:"Search"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 p-3 gap-1",children:[Object.keys(e).map((function(n){return n!=t&&"block_init"!=n?(0,a.jsxs)("div",{onClick:function(){H("".concat(n))},className:"border border-gray-600 ",children:[(0,a.jsx)("div",{className:"h-24 p-1 overflow-hidden",children:(0,a.jsx)(Q.Z,{string:e[n].content})}),(0,a.jsx)("div",{className:"bg-gray-600 p-3",children:n})]}):(0,a.jsx)(a.Fragment,{})})),0===e.length?(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("p",{children:"You dont create any components yet! "}),(0,a.jsx)("p",{children:"Add some new components to reusable it as rescent compoonents"})]}):null]})]})},ne=function(e){var t=e.showClose,n=void 0===t||t,r=c((function(e){return e.panel})),s=c((function(e){return e.setAttr}));return(0,a.jsxs)("div",{className:"absolute -ml-10 top-12",children:[(0,a.jsx)("div",{onClick:function(){"editor"===r.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"editor"})},className:"".concat("editor"===r.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.xqv,{})}),(0,a.jsx)("div",{onClick:function(){"loadpage"===r.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"loadpage"})},className:"".concat("loadpage"===r.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.tHe,{})}),(0,a.jsx)("div",{onClick:function(){"savepage"===r.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"savepage"})},className:"".concat("savepage"===r.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.mW3,{})}),(0,a.jsx)("div",{onClick:function(){"componentslibrary"===r.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"componentslibrary"})},className:"".concat("componentslibrary"===r.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.aCJ,{})}),(0,a.jsx)("div",{onClick:function(){"datalayer"===r.right?s({path:"panel.right",value:!1}):s({path:"panel.right",value:"datalayer"})},className:"".concat("datalayer"===r.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,a.jsx)(z.bGz,{})}),n?(0,a.jsx)("div",{onClick:function(){return s({path:"panel.right",value:!1})},className:" p-3 bg-slate-700 rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600",children:(0,a.jsx)(z.Tfp,{})}):null]})},re=function(e){e.children;var t=c((function(e){return e.blocks})),n=c((function(e){return e.selectedId})),r=c((function(e){return e.setAttr})),l=(0,s.useState)(t[n].properties),o=l[0],i=l[1];return(0,a.jsxs)("div",{className:"border-b border-slate-900",children:[(0,a.jsxs)(q,{children:[(0,a.jsx)("p",{className:"",children:"Properties"}),(0,a.jsx)("div",{onClick:function(){return r({path:"panel.right",value:"componentproperties"})},className:"text-xl cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-l border-slate-900 -m-3 p-3",children:(0,a.jsx)(z.nbt,{})})]}),(0,a.jsxs)("form",{className:"pt-3",onSubmit:function(e){e.preventDefault(),r({path:"blocks.".concat(n,".values"),value:o}),console.log(t)},children:[Object.keys(t[n].properties).map((function(e){return e!=n&&"block_init"!=e?(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"px-3 text-xs",children:e}),(0,a.jsx)("div",{className:"px-1.5",children:(0,a.jsx)(ee,{form:[e,o,i]})})]}):(0,a.jsx)(a.Fragment,{})})),Object.keys(t[n].properties).length>0&&(0,a.jsx)("div",{className:"px-2 pb-2",children:(0,a.jsx)(W,{children:"Update"})})]})]})},ae=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.panel})),n=c((function(e){return e.selectedId})),r=c((function(e){return e.selectedIterator})),l=c((function(e){return e.setAttr})),o=c((function(e){return e.selectedPage})),i=(0,s.useState)(e[n].content),d=i[0],u=i[1],p=(0,s.useState)(!0),h=p[0],x=p[1];return(0,s.useEffect)((function(){u(e[n].content)}),[n]),(0,s.useEffect)((function(){!function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerHTML===e}(d)?x(!1):(x(!0),l({path:"blocks.".concat(n,".content"),value:d}))}),[d]),(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(ne,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm flex",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,a.jsx)(q,{children:(0,a.jsxs)("div",{children:["Component: ",(0,a.jsx)("span",{className:"text-sky-200",children:n}),"::",r," | ",(0,a.jsx)("span",{className:"text-lime-600",children:o})]})}),h?null:(0,a.jsx)("div",{className:"p-3 bg-red-700 text-white",children:"Html code isnt valid"}),(0,a.jsx)("div",{className:" h-full max-h-[90vh] overflow-y-scroll scrollbar scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800",children:(0,a.jsx)(_(),{textareaId:"mytextarea_id",autoFocus:!0,value:d,onValueChange:function(e){return u(e)},highlight:function(e){return(0,R.highlight)(e,R.languages.js)},padding:10,style:{border:"1px solid #1f293700",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14}})}),t.rescent?(0,a.jsx)(te,{}):(0,a.jsx)("div",{className:"flex-1 h-full"})]}),(0,a.jsxs)("div",{className:"border-l border-gray-900 -mr-px ",children:[(0,a.jsx)(re,{}),(0,a.jsx)(K,{})]})]})]})},se=function(){var e=c((function(e){return e.blocks})),t=(c((function(e){return e.selectedId})),c((function(e){return e.selectedPage}))),n=c((function(e){return e.selectedProject})),l=(c((function(e){return e.setAttr})),(0,s.useState)(!0)),o=l[0],i=l[1],d=(0,s.useState)({name:t,description:"",thumbnail:""}),u=d[0],p=d[1];(0,s.useEffect)((function(){h(),function(e,t,n){setTimeout((function(){J()(document.getElementById("mainFrame"),{allowTaint:!0,imageTimeout:500,logging:!0}).then((function(a){var s=a.toDataURL("image/png",1),l=new Image;l.src=s;var o=document.getElementById("thumbnail");o&&(o.appendChild(l),e(!1),t((0,M.Z)((0,r.Z)({},n),{thumbnail:s})))}))}),500)}(i,p,u)}),[]);var h=function(){var r=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));u.name===t?(u.thumbnail&&(r[n].pages[t].thumbnail=u.thumbnail),r[n].pages[t].blocks=e):r[n].pages[u.name]={nicename:"",thumbnail:o||"",blocks:e,children:[]},sessionStorage.setItem("tailBlasterProjects",JSON.stringify(r))};return(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(ne,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)(q,{children:(0,a.jsxs)("div",{children:["Save page | ",(0,a.jsx)("span",{className:"text-lime-600",children:t})]})}),(0,a.jsxs)("div",{className:"grid p-3 grid-cols-2 gap-3",children:[(0,a.jsx)("div",{className:"w-full flex flex-col gap-1 items-start",children:(0,a.jsxs)("form",{className:"flex flex-col gap-2 w-full",onSubmit:function(e){e.preventDefault(),h()},children:[(0,a.jsx)("label",{children:"Insert page title"}),(0,a.jsx)(ee,{form:["name",u,p]}),(0,a.jsx)("label",{children:"Description"}),(0,a.jsx)("textarea",{className:"border shadow-inner border-slate-900 bg-slate-700 w-full p-3 mb-3 scrollbar"}),(0,a.jsx)(W,{children:"Save"})]})}),(0,a.jsxs)("div",{className:"shadow border border-slate-900 p-4 rounded-lg bg-slate-700",children:[(0,a.jsxs)("div",{className:"pb-1.5 flex",children:[(0,a.jsx)("div",{className:"mr-3",children:"Page previev"}),o?(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 ...",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null]}),(0,a.jsx)("div",{className:"relative border border-slate-900 max-h-[30vh] overflow-y-scroll scroll",id:"thumbnail"})]})]})]})]})},le=function(){var e=c((function(e){return e.setAttr})),t=c((function(e){return e.selectedProject})),n=c((function(e){return e.selectedPage})),r=(0,s.useState)({}),l=r[0],o=r[1];return(0,s.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));o(e[t].pages)}),[]),(0,a.jsxs)("div",{className:" text-slate-300 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(ne,{}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)(q,{children:(0,a.jsxs)("div",{children:["Load page | ",(0,a.jsx)("span",{className:"text-lime-600",children:n})]})}),(0,a.jsx)("div",{className:"columns-3 xl:columns-5 p-3",children:Object.keys(l).map((function(t){return(0,a.jsxs)("div",{className:"".concat(n===t?"bg-lime-700 ":"bg-slate-700  hover:bg-slate-900 "," p-px mb-3 cursor-pointer rounded-lg overflow-hidden"),onClick:function(){window.location.href="#firstproject/".concat(t),e({path:"selectedPage",value:t})},children:[(0,a.jsx)("img",{className:"object-cover h-32 shadow w-full object-top opacity-50 hover:opacity-80",src:l[t].thumbnail}),(0,a.jsxs)("div",{className:"flex items-center gap-1 p-3",children:[(0,a.jsx)(z.tHe,{}),t]})]})}))})]})]})},oe=function(){c((function(e){return e.blocks})),c((function(e){return e.selectedId})),c((function(e){return e.setAttr}));var e=c((function(e){return e.selectedPage}));return(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(ne,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)(q,{children:(0,a.jsxs)("div",{children:["Components library | ",(0,a.jsx)("span",{className:"text-lime-600",children:e})]})}),(0,a.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,a.jsx)("p",{className:"p-3",children:"Upload components from file:"})]})]})},ie=function(){c((function(e){return e.blocks})),c((function(e){return e.selectedId})),c((function(e){return e.setAttr}));var e=c((function(e){return e.selectedPage}));return(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(ne,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsx)(q,{children:(0,a.jsxs)("div",{children:["Data layer | ",(0,a.jsx)("span",{className:"text-lime-600",children:e})]})}),(0,a.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,a.jsx)("p",{className:"p-3",children:"Configure REST endpoint to parse external data and display on your components"}),(0,a.jsx)("p",{className:"p-3",children:"Two default layer (Global project data and current page data)"})]})]})},ce=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.selectedId})),n=c((function(e){return e.setAttr})),r=(0,s.useState)(JSON.stringify(e[t].properties)),l=r[0],o=r[1],i=(0,s.useState)(!0),d=i[0],u=i[1];return(0,s.useEffect)((function(){u(function(e){try{return JSON.parse(e)&&!!e}catch(t){return!1}}(l))}),[l]),(0,a.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,a.jsx)(ne,{}),(0,a.jsxs)("div",{className:"flex-1 text-sm",children:[(0,a.jsxs)(q,{children:[" ",(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{onClick:function(){return n({path:"panel.right",value:"editor"})},className:"text-xl h-full cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-r border-slate-900 -m-3 p-3",children:(0,a.jsx)(z.YFh,{})}),(0,a.jsx)("span",{className:"ml-6",children:"Component properties"})]})]}),(0,a.jsx)("h1",{className:"text-xl p-3",children:t}),(0,a.jsxs)(q,{children:["On this version, create only one level JSON, where key is prop name",(0,a.jsx)("br",{}),"and value is prop type (string or number)"]}),(0,a.jsx)(_(),{textareaId:"mytextarea_id",autoFocus:!0,value:l,onValueChange:function(e){return o(e)},highlight:function(e){return(0,R.highlight)(e,R.languages.js)},padding:10,style:{border:"1px solid #1f293700",fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:14}}),d?(0,a.jsx)(W,{onClick:function(){n({path:"blocks.".concat(t,".properties"),value:JSON.parse(l)})},children:"Save properties"}):(0,a.jsx)("div",{className:"bg-stone-700 border-t border-yellow-800 text-slate-300 p-3",children:"Data format (JSON) is invalid"})]})]})},de=function(){var e=c((function(e){return e.blocks})),t=c((function(e){return e.selectedId})),n=c((function(e){return e.selectedPage})),l=c((function(e){return e.setAttr})),o=c((function(e){return e.panel}));(0,s.useEffect)((function(){var e=!1;document.onkeyup=function(t){17==t.keyCode&&(e=!1)},document.onkeydown=function(t){return 17==t.keyCode&&(e=!0),83==t.keyCode&&1==e?(l({path:"panel.right",value:"savepage"}),!1):79==t.keyCode&&1==e?(l({path:"panel.right",value:"loadpage"}),!1):68==t.keyCode&&1==e?(l({path:"panel.right",value:"datalayer"}),!1):void 0};var t=U();l({path:"selectedPage",value:t.page})})),(0,s.useEffect)((function(){var e=U(),t=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));t||(sessionStorage.setItem("tailBlasterProjects",JSON.stringify(d)),t=d),e.project&&e.page?l({path:"blocks",value:t[e.project].pages[e.page].blocks}):alert("load data error")}),[n]);var i=function(e){var n,s,o=e.data,c=e.name,d=e.iterator;d.push(!0);var u=d.length,p=(null===(n=o[c])||void 0===n?void 0:n.values)?(0,r.Z)({},o[c].values):{};return(null===(s=o[c])||void 0===s?void 0:s.children)&&o[c].children.map((function(e){p[e]=(0,a.jsx)(i,{data:o,name:e,iterator:d})})),o[c]?(0,a.jsxs)("div",{onClick:function(e){e.stopPropagation(),l({path:"selectedId",value:c}),l({path:"selectedIterator",value:u}),l({path:"panel.right",value:"editor"}),l({path:"panel.rescent",value:!1})},className:"".concat(t==c?"border-solid border-stone-400":"border-dashed border-stone-200"," border relative"),children:[(0,a.jsx)("div",{className:"text-xs text-white -top-1 -left-1 bg-opacity-50 absolute rounded-lg bg-black px-1 w-4 h-4 flex items-center",children:u}),(0,a.jsx)(F,{string:o[c].content,values:p,escapeValues:"<Button>xxx</Button>"})]}):null},u=Object.keys(e)[0];return(0,a.jsxs)("div",{className:"relative flex h-screen overflow-hidden w-full",children:["componentproperties"===o.right?(0,a.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"flex-1 h-full grid",children:(0,a.jsx)("div",{className:"w-max h-max m-auto bg-white shadow border border-stone-300",children:(0,a.jsx)(F,{string:e[t].content,values:{}})})}):(0,a.jsx)("div",{id:"mainFrame",className:"flex-1 h-max",children:(0,a.jsx)(i,{data:e,name:u,iterator:[]})}),"editor"===o.right?(0,a.jsx)(ae,{}):(0,a.jsx)(a.Fragment,{}),"savepage"===o.right?(0,a.jsx)(se,{}):(0,a.jsx)(a.Fragment,{}),"loadpage"===o.right?(0,a.jsx)(le,{}):(0,a.jsx)(a.Fragment,{}),"componentslibrary"===o.right?(0,a.jsx)(oe,{}):(0,a.jsx)(a.Fragment,{}),"datalayer"===o.right?(0,a.jsx)(ie,{}):(0,a.jsx)(a.Fragment,{}),"componentproperties"===o.right?(0,a.jsx)(ce,{}):(0,a.jsx)(a.Fragment,{}),!1===o.right?(0,a.jsx)("div",{className:"text-gray-400",children:(0,a.jsx)(ne,{showClose:!1})}):(0,a.jsx)(a.Fragment,{})]})};de.getInitialProps=function(){return{}};var ue=de}},function(e){e.O(0,[443,428,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);