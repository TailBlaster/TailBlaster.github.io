(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8190)}])},7987:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(5893),s=function(e){e.className;var t=e.children,r=e.onClick,s=e.selectedState,a=void 0!==s&&s,l=e.width,o=void 0===l?"":l;return(0,n.jsx)("button",{onClick:r,title:"Button","aria-label":"Button",className:"".concat(a?"bg-slate-900":"bg-slate-700"," ").concat("max"==o?"w-max":" w-full","  cursor-pointer border-b border-gray-900 p-3 text-yellow-600   hover:bg-slate-900"),children:t})};t.Z=s},4452:function(e,t,r){"use strict";r.d(t,{I:function(){return i},Z:function(){return c}});var n=r(5893),s=function(e){return e[0]},a=function(e){return o(e[1],e[0])},l=function(e,t,r){var n=t.split("."),s=n.pop(),a=n.reduce((function(e,t){return e[t]=e[t]||{}}),e);a[s]=r},o=function(e,t){var r,n,s=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(r=e,n=0;r&&n<s.length;++n)r=r[s[n]];return r},i=function(e){var t=e.form,r=e.bottomSpace,o=void 0===r||r,i=e.type,c=void 0===i?"text":i;return(0,n.jsx)("input",{className:"text-xs border border-slate-900 shadow-inner bg-slate-600 bg-opacity-50 w-full p-3 ".concat(o?"mb-3":""),id:s(t),onChange:function(e){return function(e,t){var r=Object.assign({},e[1]);l(r,e[0],t),e[2](r)}(t,e.target.value)},defaultValue:a(t),type:c})},c=i},6165:function(e,t,r){"use strict";var n=r(5893);t.Z=function(e){var t=e.key,r=e.children;return(0,n.jsx)("div",{className:"flex gap-1 border-b border-gray-900 p-3 items-center justify-between text-xs",children:r},t)}},6078:function(e,t,r){"use strict";r.d(t,{Q:function(){return s}});var n=r(5893),s=function(e){var t=e.children;return(0,n.jsx)("div",{className:"bg-slate-700 bg-opacity-30 flex items-center border-b border-gray-900 p-3 text-slate-500 justify-between",children:t})};t.Z=s},6696:function(e,t,r){"use strict";r.d(t,{u:function(){return l}});var n=r(5893),s=r(7219),a=r(7246),l=function(e){var t=e.showClose,r=void 0===t||t,l=(0,a.o)((function(e){return e.panel})),o=(0,a.o)((function(e){return e.setAttr}));return(0,n.jsxs)("div",{className:"absolute -ml-10 top-12",children:[(0,n.jsx)("div",{onClick:function(){"editor"===l.right?o({path:"panel.right",value:!1}):o({path:"panel.right",value:"editor"})},className:"".concat("editor"===l.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,n.jsx)(s.xqv,{})}),(0,n.jsx)("div",{onClick:function(){"loadpage"===l.right?o({path:"panel.right",value:!1}):o({path:"panel.right",value:"loadpage"})},className:"".concat("loadpage"===l.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,n.jsx)(s.tHe,{})}),(0,n.jsx)("div",{onClick:function(){"savepage"===l.right?o({path:"panel.right",value:!1}):o({path:"panel.right",value:"savepage"})},className:"".concat("savepage"===l.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,n.jsx)(s.mW3,{})}),(0,n.jsx)("div",{onClick:function(){"componentslibrary"===l.right?o({path:"panel.right",value:!1}):o({path:"panel.right",value:"componentslibrary"})},className:"".concat("componentslibrary"===l.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,n.jsx)(s.aCJ,{})}),(0,n.jsx)("div",{onClick:function(){"datalayer"===l.right?o({path:"panel.right",value:!1}):o({path:"panel.right",value:"datalayer"})},className:"".concat("datalayer"===l.right?"bg-slate-800":"bg-slate-700"," flex p-3  rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600"),children:(0,n.jsx)(s.bGz,{})}),r?(0,n.jsx)("div",{onClick:function(){return o({path:"panel.right",value:!1})},className:" p-3 bg-slate-700 rounded-l hover:text-slate-200 cursor-pointer border-b border-slate-600",children:(0,n.jsx)(s.Tfp,{})}):null]})};t.Z=l},1019:function(e,t,r){"use strict";r.d(t,{r:function(){return a}});var n=r(1351),s=r(5893),a=function(e){e=null!==e?e:(0,n.Z)(new TypeError("Cannot destructure undefined"));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"z-40 absolute w-[300%] -left-[100%] h-[150px] -top-[150px] border-b border-dashed border-gray-800 pointer-events-none",children:"\xa0"}),(0,s.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"z-40 absolute w-[300%] -left-[100%] h-[150px] -bottom-[150px] border-t border-dashed border-gray-800 pointer-events-none",children:"\xa0"}),(0,s.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"z-40 absolute -left-[150px] w-[150px] h-[300%] -top-[100%] border-r border-dashed border-gray-800 pointer-events-none",children:"\xa0"}),(0,s.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"z-40 absolute -right-[150px] w-[150px] h-[300%] -top-[100%] border-l border-dashed border-gray-800 pointer-events-none",children:"\xa0"})]})}},3780:function(e,t,r){"use strict";r.d(t,{x4:function(){return f},E5:function(){return m},Q2:function(){return n.Q},u8:function(){return s.u},E:function(){return g}});r(6165);var n=r(6078),s=r(6696),a=(r(1019),r(5893)),l=r(7246),o=r(7294),i=r(7987),c=r(4452),d=r(7219),u=function(e){var t=e.className,r=void 0===t?"":t,n=e.label,s=void 0===n?"":n,i=e.children,c=e.required,u=void 0!==c&&c,p=e.form,h=(e.multi,(0,o.useRef)(null)),x=(0,l.o)((function(e){return e.setAttr})),g=(0,l.o)((function(e){return e.theme.dropdown}));return(0,a.jsxs)("div",{className:"w-full p-2",children:[g===p[0]&&(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gray-900 z-10 opacity-10 pointer-events-none"}),(0,a.jsxs)("div",{className:"w-full relative ".concat(r,"  ").concat(g===p[0]?"z-10":null),children:[s&&(0,a.jsxs)("label",{className:"text-sm text-gray-600",children:[s,u&&(0,a.jsx)("span",{children:" *"})]}),(0,a.jsxs)("div",{onClick:function(){x({path:"theme.dropdown",value:p[0]})},className:"w-full border p-2.5 text-sm bg-slate-600 flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex gap-2 items-center"}),(0,a.jsx)(d.bTu,{})]}),g==p[0]&&(0,a.jsxs)("div",{ref:h,className:"absolute z-30 top-1 pt-16 w-full",children:[(0,a.jsx)("div",{onClick:function(){x({path:"theme.dropdown",value:!1})},className:"absolute right-2 top-7 p-1 mt-px border rounded bg-white cursor-pointer hover:bg-red-50",children:(0,a.jsx)(d.q5L,{})}),i]})]})]})},p=r(594),h=function(e){e.onClick,e.icon,e.className;var t=(0,l.o)((function(e){return e.theme.formError})),r=(0,l.o)((function(e){return e.setAttr})),n=(0,o.useState)({login:"",password:""}),s=n[0],d=n[1];return(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsx)(f,{decorator:!1,content:t}):null,(0,a.jsxs)("form",{className:"flex flex-col gap-2 w-full",onSubmit:function(e){e.preventDefault(),p.Z.post("https://tyuuyfprzq.cfolks.pl/dance/wp-json/jwt-auth/v1/token/",{username:s.login,password:s.password}).then((function(e){if(200===e.status){var t=e.data;console.log(t),localStorage.setItem("strangelogin",t.token)}})).catch((function(e){var t;r({path:"theme.formError",value:(t=e.response.data.message,null!==t&&""!==t&&(t=t.toString()).replace(/<[^>]*>/g,""))})}))},children:[(0,a.jsx)("label",{children:"Login"}),(0,a.jsx)(c.I,{form:["login",s,d]}),(0,a.jsx)("label",{children:"Password"}),(0,a.jsx)(c.I,{form:["password",s,d]}),(0,a.jsx)(i.z,{children:"Login"})]})," "]})};var x=function(e){e.onClick,e.icon,e.className;var t=(0,o.useState)(!1),r=t[0],s=t[1];return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m,{className:"-mr-3 ".concat(r?"bg-slate-900":""),icon:(0,a.jsx)(d.fzv,{}),onClick:function(){return s(!r)}}),r?(0,a.jsxs)("div",{className:"absolute w-72 top-9 -right-2 bg-slate-800 border border-slate-700 outline outline-slate-800",children:[(0,a.jsx)(n.Q,{children:"Authentication"}),(0,a.jsx)("div",{className:"p-3",children:(0,a.jsx)(h,{})}),(0,a.jsx)("div",{className:"p-3 text-center mb-3 underline text-sky-600 hover:text-sky-200 cursor-pointer",children:"Dont have account? Register Now!"})]}):null]})},g=function(e){e.children;var t=(0,l.o)((function(e){return e.blocks})),r=(0,l.o)((function(e){return e.selectedId})),s=(0,l.o)((function(e){return e.setAttr})),d=(0,o.useState)(t[r].properties),p=d[0],h=d[1];return(0,a.jsxs)("div",{className:"border-b border-slate-900",children:[(0,a.jsxs)(n.Z,{children:[(0,a.jsx)("p",{className:"",children:"Properties"}),(0,a.jsx)(x,{})]}),(0,a.jsxs)("form",{className:"pt-3",onSubmit:function(e){e.preventDefault(),console.log(p),s({path:"blocks.".concat(r,".values"),value:p})},children:[Object.keys(t[r].properties).map((function(e){return console.log(t[r].properties[e]),e!=r&&"block_init"!=e?Array.isArray(t[r].properties[e])?(0,a.jsx)("div",{children:(0,a.jsx)(u,{form:[e,p,h]})}):(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"px-3 text-xs",children:e}),(0,a.jsx)("div",{className:"px-1.5",children:(0,a.jsx)(c.I,{form:[e,p,h]})})]}):(0,a.jsx)(a.Fragment,{})})),Object.keys(t[r].properties).length>0&&(0,a.jsx)("div",{className:"px-2 pb-2",children:(0,a.jsx)(i.z,{children:"Update"})})]})]})},m=function(e){var t=e.onClick,r=e.icon,n=e.className;return(0,a.jsx)("div",{onClick:t,className:"".concat(n," text-xl  cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-l border-slate-900 -my-3 p-3"),children:r})},f=function(e){var t=e.content,r=e.absolute,n=void 0!==r&&r,s=(e.className,e.children),l=e.decorator,o=void 0===l||l;return(0,a.jsxs)("div",{className:"".concat(n?" absolute  bottom-0":""," z-50 flex gap-3 z-10 w-full bg-yellow-200 items-center mb-1.5"),children:[o?(0,a.jsx)("div",{className:"p-3.5 bg-yellow-400 self-start",children:(0,a.jsx)(d.bax,{})}):null,(0,a.jsxs)("div",{className:"p-1.5 flex gap-3 items-center",children:[t||null,s]})]})}},2611:function(e,t,r){"use strict";r.d(t,{F7:function(){return a},HC:function(){return c},Ib:function(){return s},SG:function(){return o},dK:function(){return l},fz:function(){return i},q:function(){return n},tT:function(){return d}});var n={firstproject:{nicename:"First project",description:"TailBlaster starter project",pages:{homepage:{nicename:"Home page",thumbnail:null,blocks:{block_init:{content:'<div class="bg-gradient-to-tl from-stone-200 to-slate-400 p-9  h-screen">\n  <div class="container mx-auto my-9 flex flex-col gap-3">\n    \n    \x3c!-- *** Hero section *** --\x3e\n    <div class="font-bold text-8xl text-stone-100 ">\n      <h2 class="">Hello</h2>\n      <div class="flex">\n        <h1 class="bg-sky-700 outline-dashed outline-sky-700 outline-8">Tail</h1>\n        <h1 class="text-sky-700">Stamp</h1>\n      </div>\n      \n    </div>\n    <p class="text-stone-100 mb-9">\n      $Rich TailWindEditor\n    </p>\n    <p class="text-stone-100 cursor-pointer w-max p-3 rounded bg-sky-800 hover:bg-stone-600">\n      Click me to edit\n    </p>\n\n    \x3c!-- *** ----------------------------------- *** --\x3e\n    \x3c!-- *** Try place your first component here *** --\x3e\n\n    <div class="text-sm text-stone-600 flex justify-end border-2 border-dashed border-stone-500 py-6 gap-6">\n      <a href="#" class="flex flex-col items-center bg-white border rounded-lg shadow-md md:flex-row md:max-w-xl hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700">\n      <div class="py-12 bg-stone-600 w-full text-stone-100 rounded-t-lg h-96 md:h-auto md:w-48 md:rounded-none md:rounded-l-lg text-7xl flex items-center justify-center">\n        !!!\n      </div>\n      <div class="flex flex-col justify-between p-4 leading-normal">\n          <h5 class="mb-2 text-2xl font-bold tracking-tight text-stone-700 dark:text-white">\n            HTML editor with embeded components\n          </h5>\n          <p class="mb-3 font-normal text-stone-700 dark:text-stone-400">\n            TailWind syntax, properties, REST data layer, global resources library,  social experience and team work\n          </p>\n      </div>\n      </a>\n    </div>\n    <p>ver.0.0.12</p>\n  </div>\n\n</div>',children:[],properties:{},values:{}}}}}}},s={content:'<p class="bg-green-300 rounded p-3 shadow border border-green-600">\nNew child component with green background\n</p>',children:[],properties:{},values:{}},a={content:'<p class="bg-violet-300 rounded p-3 shadow border border-violet-600">\nNew child component with violet background\n</p>',children:[],properties:{},values:{}},l={content:'<p class="bg-sky-300 rounded p-3 shadow border border-sky-600">\nNew child component with sky background\n</p>',children:[],properties:{},values:{}},o={content:'<p class="bg-stone-300 rounded p-3 shadow border border-stone-600">\nNew child component with stone background\n</p>',children:[],properties:{},values:{}},i={content:'<p class="bg-orange-300 rounded p-3 shadow border border-orange-600">\nNew child component with orange background\n</p>',children:[],properties:{},values:{}},c={content:'<p class="bg-amber-300 rounded p-3 shadow border border-amber-600">\nNew child component with amber background\n</p>',children:[],properties:{},values:{}},d={content:'<p class="bg-cyan-300 rounded p-3 shadow border border-cyan-600">\nNew child component with cyan background\n</p>',children:[],properties:{},values:{}}},1648:function(e,t,r){"use strict";r.d(t,{Bu:function(){return c},eV:function(){return d},rC:function(){return u}});var n=r(6042),s=r(9396),a=r(7913),l=r.n(a),o=r(1120),i=r.n(o),c=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new(l())({length:e});return"".concat(t?"block_":"").concat(r())},d=function(e,t,r){setTimeout((function(){i()(document.getElementById("mainFrame"),{allowTaint:!0,imageTimeout:500,logging:!0}).then((function(a){var l=a.toDataURL("image/png",1),o=new Image;o.src=l;var i=document.getElementById("thumbnail");i&&(i.appendChild(o),e(!1),t((0,s.Z)((0,n.Z)({},r),{thumbnail:l})))}))}),500)},u=function(){var e=window.location.href.split("#")[1];if(e){if(e.includes("/")){var t=e.split("/");return{project:t[0],page:t[1]}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}}return window.location.href="#firstproject/homepage",{project:"firstproject",page:"homepage"}}},7246:function(e,t,r){"use strict";r.d(t,{o:function(){return l}});var n=r(4671),s=r(8172),a=function(e,t){var r,n,s=Array.isArray(t)?t:"string"===typeof t?t.split("."):t;for(r=e,n=0;r&&n<s.length;++n)r=r[s[n]];return r},l=(0,n.Z)((function(e){return{editorRef:null,monaco:null,previewSelectedElement:null,blocks:{},selectedId:"block_init",selectedIterator:1,selectedPage:"homepage",selectedDescription:"",selectedProject:"firstproject",theme:{dropdown:{},formError:""},panel:{right:!1,rescent:!1},setAttr:function(t){return e((0,s.ZP)((function(e){!function(e,t,r){var n=t.split("."),s=n.pop(),a=n.reduce((function(e,t){return e[t]=e[t]||{}}),e);a[s]=r}(e,t.path,t.value)})))},pushElement:function(t){return e((0,s.ZP)((function(e){a(e,t.path).push(t.element)})))},removeElement:function(t){return e((0,s.ZP)((function(e){a(e,t.path).splice(t.index,1)})))}}}))},8190:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var n=r(6042),s=r(5893),a=r(7294),l=r(7246),o=r(2611),i=r(5152),c=r.n(i),d=r(4111),u=r(1438),p=r(2951),h=r(4924),x=r(8029),g=r(9534),m=r(828),f=r(9815),v=r(460),b=r(3935),j=r(5697),A=r.n(j),N=1,y={},w={"'":"&#39",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"};var k=function(e){(0,x.Z)(r,e);var t=(0,v.Z)(r);function r(){var e;return(0,u.Z)(this,r),e=t.apply(this,arguments),(0,h.Z)((0,d.Z)(e),"state",{hostNodes:y}),(0,h.Z)((0,d.Z)(e),"wrapperRef",a.createRef()),(0,h.Z)((0,d.Z)(e),"renderRef",a.createRef()),(0,h.Z)((0,d.Z)(e),"hostAttribute",""),e}return(0,p.Z)(r,[{key:"componentDidMount",value:function(){var e=(0,m.Z)(this.renderRef.current,2),t=e[0];e[1];this.wrapperRef.current.innerHTML=t,this.updateNodes()}},{key:"componentDidUpdate",value:function(){this.updateNodes()}},{key:"updateNodes",value:function(){var e=this.state.hostNodes,t=(0,m.Z)(this.renderRef.current,2),r=(t[0],t[1]),n={},s=!1;r.length&&this.wrapperRef.current.querySelectorAll("[".concat(this.hostAttribute,"]")).forEach((function(t){var r=t.dataset.templateKey,a=e[r];t!==a&&(a&&a.tagName===t.tagName?(t.parentNode.replaceChild(a,t),t=a):s=!0,n[r]=t)})),(s=s||Object.keys(e).length!==r.length)&&this.setState({hostNodes:n})}},{key:"renderTemplate",value:function(){var e=this,t=this.props,r=t.string,n=t.valuePattern,s=t.values,l=t.valueTags,o=t.defaultValueTag,i=t.escapeValues,c={},d=[],u="string"===typeof n?new RegExp(n,"g"):n;return[r.replace(u,(function(t,r,n){var u=s[n];if("string"!==typeof u){if(null==u)return"";if(Array.isArray(u)||a.isValidElement(u)){var p=l[n]||o,h=c[n]=(c[n]||0)+1,x="".concat(n,":").concat(h);return d.push([x,u]),e.hostAttribute||(e.hostAttribute='data-template-id="'.concat(N++,'"')),"<".concat(p," ").concat(e.hostAttribute,' data-template-key="').concat(x,'"></').concat(p,">")}u=u.toString()}return i?function(e){return e.replace(/['"&<>]/g,(function(e){return w[e]}))}(u):u})),d]}},{key:"render",value:function(){var e=!this.wrapperRef.current,t=this.props,r=t.as,l=(t.defaultValueTag,t.escapeValues,t.string,t.valuePattern,t.valueTags,t.values,(0,g.Z)(t,["as","defaultValueTag","escapeValues","string","valuePattern","valueTags","values"])),o=this.state.hostNodes,i=(0,m.Z)(this.renderTemplate(),2),c=i[0],d=i[1],u=e?[]:d.map((function(e){var t=(0,m.Z)(e,2),r=t[0],n=t[1],l=o[r];if(l)return(0,s.jsx)(a.Fragment,{children:b.createPortal(n,l)},r)}));this.renderRef.current=[c,d],l.ref=this.wrapperRef,l.key="template",l.suppressHydrationWarning=!0,l.dangerouslySetInnerHTML={__html:c};var p=(0,s.jsx)(r,(0,n.Z)({},l));return u.length?[p].concat((0,f.Z)(u)):p}}]),r}(a.PureComponent);(0,h.Z)(k,"displayName","Template"),(0,h.Z)(k,"propTypes",{string:A().string.isRequired,values:A().object,valueTags:A().objectOf(A().string),defaultValueTag:A().string,escapeValues:A().bool,valuePattern:A().oneOfType([A().string,A().object]),as:A().string}),(0,h.Z)(k,"reset",(function(){N=1})),(0,h.Z)(k,"defaultProps",{as:"div",defaultValueTag:"span",escapeValues:!0,valuePattern:/(\{([$\w]+)\})/g,valueTags:y,values:y});var C=r(6078),Z=r(4452),E=r(7987),S=r(6696),I=r(1648),T=function(){var e=(0,l.o)((function(e){return e.blocks})),t=((0,l.o)((function(e){return e.selectedId})),(0,l.o)((function(e){return e.selectedPage}))),r=(0,l.o)((function(e){return e.selectedProject})),n=((0,l.o)((function(e){return e.setAttr})),(0,a.useState)(!0)),o=n[0],i=n[1],c=(0,a.useState)({name:t,description:"",thumbnail:""}),d=c[0],u=c[1];(0,a.useEffect)((function(){p(),(0,I.eV)(i,u,d)}),[]);var p=function(){var n=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));d.name===t?(d.thumbnail&&(n[r].pages[t].thumbnail=d.thumbnail),n[r].pages[t].blocks=e):n[r].pages[d.name]={nicename:"",thumbnail:o||"",blocks:e,children:[]},sessionStorage.setItem("tailBlasterProjects",JSON.stringify(n))};return(0,s.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,s.jsx)(S.Z,{}),(0,s.jsxs)("div",{className:"flex-1 text-sm",children:[(0,s.jsx)(C.Z,{children:(0,s.jsxs)("div",{children:["Save page | ",(0,s.jsx)("span",{className:"text-lime-600",children:t})]})}),(0,s.jsxs)("div",{className:"grid p-3 grid-cols-2 gap-3",children:[(0,s.jsx)("div",{className:"w-full flex flex-col gap-1 items-start",children:(0,s.jsxs)("form",{className:"flex flex-col gap-2 w-full",onSubmit:function(e){e.preventDefault(),p()},children:[(0,s.jsx)("label",{children:"Insert page title"}),(0,s.jsx)(Z.Z,{form:["name",d,u]}),(0,s.jsx)("label",{children:"Description"}),(0,s.jsx)("textarea",{className:"border shadow-inner border-slate-900 bg-slate-700 w-full p-3 mb-3 scrollbar"}),(0,s.jsx)(E.Z,{children:"Save"})]})}),(0,s.jsxs)("div",{className:"shadow border border-slate-900 p-4 rounded-lg bg-slate-700",children:[(0,s.jsxs)("div",{className:"pb-1.5 flex",children:[(0,s.jsx)("div",{className:"mr-3",children:"Page previev"}),o?(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 ...",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null]}),(0,s.jsx)("div",{className:"relative border border-slate-900 max-h-[30vh] overflow-y-scroll scroll",id:"thumbnail"})]})]})]})]})},P=r(7219),R=function(){var e=(0,l.o)((function(e){return e.setAttr})),t=(0,l.o)((function(e){return e.selectedProject})),r=(0,l.o)((function(e){return e.selectedPage})),n=(0,a.useState)({}),o=n[0],i=n[1];return(0,a.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));i(e[t].pages)}),[]),(0,s.jsxs)("div",{className:" text-slate-300 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,s.jsx)(S.Z,{}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)(C.Z,{children:(0,s.jsxs)("div",{children:["Load page | ",(0,s.jsx)("span",{className:"text-lime-600",children:r})]})}),(0,s.jsx)("div",{className:"columns-3 xl:columns-5 p-3",children:Object.keys(o).map((function(t){return(0,s.jsxs)("div",{className:"".concat(r===t?"bg-lime-700 ":"bg-slate-700  hover:bg-slate-900 "," p-px mb-3 cursor-pointer rounded-lg overflow-hidden"),onClick:function(){window.location.href="#firstproject/".concat(t),e({path:"selectedPage",value:t})},children:[(0,s.jsx)("img",{className:"object-cover h-32 shadow w-full object-top opacity-50 hover:opacity-80",src:o[t].thumbnail}),(0,s.jsxs)("div",{className:"flex items-center gap-1 p-3",children:[(0,s.jsx)(P.tHe,{}),t]})]})}))})]})]})},F=function(){(0,l.o)((function(e){return e.blocks})),(0,l.o)((function(e){return e.selectedId})),(0,l.o)((function(e){return e.setAttr}));var e=(0,l.o)((function(e){return e.selectedPage}));return(0,s.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,s.jsx)(S.Z,{}),(0,s.jsxs)("div",{className:"flex-1 text-sm",children:[(0,s.jsx)(C.Z,{children:(0,s.jsxs)("div",{children:["Components library | ",(0,s.jsx)("span",{className:"text-lime-600",children:e})]})}),(0,s.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,s.jsx)("p",{className:"p-3",children:"Upload components from file:"})]})]})},O=function(){(0,l.o)((function(e){return e.blocks})),(0,l.o)((function(e){return e.selectedId})),(0,l.o)((function(e){return e.setAttr}));var e=(0,l.o)((function(e){return e.selectedPage}));return(0,s.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,s.jsx)(S.Z,{}),(0,s.jsxs)("div",{className:"flex-1 text-sm",children:[(0,s.jsx)(C.Z,{children:(0,s.jsxs)("div",{children:["Data layer | ",(0,s.jsx)("span",{className:"text-lime-600",children:e})]})}),(0,s.jsx)("p",{className:"p-3",children:" * Not avilable on this ver."}),(0,s.jsx)("p",{className:"p-3",children:"Configure REST endpoint to parse external data and display on your components"}),(0,s.jsx)("p",{className:"p-3",children:"Two default layer (Global project data and current page data)"})]})]})},M=r(9396),B=function(){var e=(0,l.o)((function(e){return e.blocks})),t=(0,l.o)((function(e){return e.selectedId})),r=(0,l.o)((function(e){return e.setAttr})),o=(0,l.o)((function(e){return e.selectedPage})),i=(0,l.o)((function(e){return e.selectedProject})),c={key:"",value:"String",tags:[{label:"",value:""}]},d=(0,a.useState)(c),u=d[0],p=d[1],x=(0,a.useState)(e[t].properties),g=x[0],m=x[1];return(0,s.jsxs)("div",{className:" text-slate-400 top-0 w-2/3 max-h-screen bg-gray-800 flex flex-col",children:[(0,s.jsx)(S.Z,{}),(0,s.jsxs)("div",{className:"flex-1 text-sm",children:[(0,s.jsxs)(C.Z,{children:[" ",(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{onClick:function(){return r({path:"panel.right",value:"editor"})},className:"text-xl h-full cursor-pointer hover:text-gray-200 hover:bg-slate-900 border-r border-slate-900 -m-3 p-3",children:(0,s.jsx)(P.YFh,{})}),(0,s.jsx)("span",{className:"ml-6",children:"Component properties"})]})]}),(0,s.jsxs)("h1",{className:"text-xl p-3",children:["Component: ",t]}),(0,s.jsxs)("div",{className:"flex gap-px px-2.5",children:[(0,s.jsx)("div",{className:"py-3 px-6 bg-slate-700 bg-opacity-30",children:"Edit properties"}),(0,s.jsx)("div",{className:"py-3 px-6 bg-slate-900 bg-opacity-40",children:"Publish on global library"})]}),(0,s.jsxs)(C.Z,{children:["Add properties on register props form. After save you coud add your properties to code ",(0,s.jsx)("br",{}),"as ","{","your_example_porperty","}"," shortcode"]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"p-3 flex flex-col gap-1 bg-slate-700 m-3 bg-opacity-50",children:[(0,s.jsx)("p",{children:"Register new prop"}),(0,s.jsxs)("div",{className:"flex border border-slate-900 w-full",children:[(0,s.jsx)("div",{className:"px-3.5 py-3 border-r border-slate-900",children:(0,s.jsx)(P.j4u,{})}),(0,s.jsx)("input",{value:u.key,onChange:function(e){return p((0,M.Z)((0,n.Z)({},u),{key:e.target.value}))},placeholder:"property key",className:"placeholder-gray-500 w-full bg-slate-600 bg-opacity-50 p-2.5"}),(0,s.jsxs)("select",{onChange:function(e){return p((0,M.Z)((0,n.Z)({},u),{value:e.target.value}))},value:u.value,className:"appearance-none w-full border-l border-slate-900 bg-slate-600 bg-opacity-50 p-2.5",children:[(0,s.jsx)("option",{className:"text-white",children:"String"}),(0,s.jsx)("option",{className:"text-white",children:"Enum"}),(0,s.jsx)("option",{className:"text-white",children:"Number"}),(0,s.jsx)("option",{className:"text-white",children:"Text"}),(0,s.jsx)("option",{className:"text-white",children:"HTML"})]}),(0,s.jsx)("div",{onClick:function(){if(!u.key)return alert("fill key field"),!1;m((0,M.Z)((0,n.Z)({},g),(0,h.Z)({},u.key,"Enum"==u.value?u.tags:u.value))),p(c)},className:"px-3.5 py-3 border-l border-slate-900 hover:bg-slate-600",children:(0,s.jsx)(P.OvN,{})})]}),"Enum"===u.value?(0,s.jsx)("div",{children:u.tags.map((function(e,t){var r,a;return(0,s.jsx)("div",{className:"flex py-1.5",children:(0,s.jsxs)("div",{className:"flex border border-slate-900 w-full",children:[(0,s.jsx)("div",{className:"px-3.5 py-3 border-r border-slate-900 hover:bg-slate-600",children:(0,s.jsx)(P.w0f,{})}),(0,s.jsx)("input",{onChange:function(e){u.tags[t].label=e.currentTarget.value;var r=Object.assign(u,{});p(r)},defaultValue:null===(r=null===u||void 0===u?void 0:u.tags[t])||void 0===r?void 0:r.label,placeholder:"label",className:" w-full bg-slate-600 bg-opacity-50 p-2.5"}),(0,s.jsx)("input",{onChange:function(e){u.tags[t].value=e.currentTarget.value;var r=Object.assign(u,{});p(r)},defaultValue:null===(a=null===u||void 0===u?void 0:u.tags[t])||void 0===a?void 0:a.value,placeholder:"value",className:"w-full border-l border-slate-900 bg-slate-600 bg-opacity-50 p-2.5"}),(0,s.jsx)("div",{onClick:function(){var e=Object.assign(u,{});u.tags.length==t+1?e.tags[u.tags.length]={label:"label1",value:"value2"}:e.tags.splice(t,1),p((0,n.Z)({},u,e))},className:"px-3.5 py-3 border-l border-slate-900 hover:bg-slate-600",children:u.tags.length==t+1?(0,s.jsx)(P.OvN,{}):(0,s.jsx)(P.q5L,{})})]})})}))},JSON.stringify(u)):null,(0,s.jsx)("div",{children:Object.keys(g).map((function(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"p-3 border-t border-slate-900 ",children:Array.isArray(g[e])?(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[" ",(0,s.jsxs)("div",{className:"flex flex-px flex-wrap",children:[e," : ",g[e].map((function(e){return(0,s.jsxs)("div",{className:"m-px bg-slate-600 px-1 rounded flex",children:[(0,s.jsx)("div",{className:"border-r border-slate-800 pr-1",children:e.label}),(0,s.jsx)("div",{className:"pl-1 text-slate-900",children:e.value})]})}))]}),(0,s.jsx)("div",{onClick:function(){m((function(t){var r=(0,n.Z)({},t);return delete r[e],r}))},children:(0,s.jsx)(P.q5L,{})})]}):(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[e," :"," ",(0,s.jsx)("span",{className:"text-slate-500",children:g[e]})," "]}),(0,s.jsx)("div",{onClick:function(){m((function(t){var r=(0,n.Z)({},t);return delete r[e],r}))},children:(0,s.jsx)(P.q5L,{})})]})})})}))})]}),(0,s.jsx)("div",{className:"p-3",children:Object.keys(g).length>0?(0,s.jsx)(E.Z,{onClick:function(){r({path:"blocks.".concat(t,".properties"),value:g}),r({path:"panel.right",value:"editor"});var e=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));e[i].pages[o].blocks[t].properties=g,sessionStorage.setItem("tailBlasterProjects",JSON.stringify(e))},children:"Save properties"}):null})]}),(0,s.jsx)("div",{className:"flex-1 p-3",children:(0,s.jsxs)("div",{className:"bg-slate-700 rounded",children:[(0,s.jsxs)("div",{className:"flex gap-1 items-center p-3",children:[(0,s.jsx)(P.bGz,{}),(0,s.jsx)("h2",{children:"Test component properties"})]}),Object.keys(g).map((function(e){return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"px-3 text-xs",children:e}),(0,s.jsx)("div",{className:"px-1.5 flex items-center",children:Array.isArray(g[e])?(0,s.jsxs)("div",{className:"flex w-full",children:[(0,s.jsxs)("div",{className:"flex border border-slate-900 mb-3 w-full",children:[(0,s.jsx)("input",{className:"w-full bg-slate-600 bg-opacity-50 p-2.5"}),(0,s.jsx)("input",{className:"w-full border-l border-slate-900 bg-slate-600 bg-opacity-50 p-2.5"}),(0,s.jsx)("div",{className:"px-3.5 py-3 border-l border-slate-900 hover:bg-slate-600",children:(0,s.jsx)(P.OvN,{})})]}),(0,s.jsx)("div",{className:"p-3 border hover:bg-slate-600 border-slate-900 mb-3 ml-1.5",children:(0,s.jsx)(P.q5L,{})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{form:[e,g,m]}),(0,s.jsx)("div",{className:"p-3 border hover:bg-slate-600 border-slate-900 mb-3 ml-1.5",children:(0,s.jsx)(P.q5L,{})})]})})]})}))]})})]})]})]})},V=r(1019),D=r(3780),U=c()((function(){return Promise.all([r.e(776),r.e(937)]).then(r.bind(r,9937))}),{loadableGenerated:{webpack:function(){return[9937]}},ssr:!1}),_=function(){var e=(0,l.o)((function(e){return e.blocks})),t=(0,l.o)((function(e){return e.selectedId})),r=(0,l.o)((function(e){return e.selectedPage})),i=(0,l.o)((function(e){return e.setAttr})),c=(0,l.o)((function(e){return e.panel}));(0,a.useEffect)((function(){var e=!1;document.onkeyup=function(t){17==t.keyCode&&(e=!1)},document.onkeydown=function(t){return 17==t.keyCode&&(e=!0),83==t.keyCode&&1==e?(i({path:"panel.right",value:"savepage"}),!1):79==t.keyCode&&1==e?(i({path:"panel.right",value:"loadpage"}),!1):68==t.keyCode&&1==e?(i({path:"panel.right",value:"datalayer"}),!1):void 0};var t=(0,I.rC)();i({path:"selectedPage",value:t.page})})),(0,a.useEffect)((function(){var e=(0,I.rC)(),t=JSON.parse(sessionStorage.getItem("tailBlasterProjects"));t||(sessionStorage.setItem("tailBlasterProjects",JSON.stringify(o.q)),t=o.q),e.project&&e.page?i({path:"blocks",value:t[e.project].pages[e.page].blocks}):alert("load data error")}),[r]);var d=function(e){var r,a,l=e.data,o=e.name,u=e.iterator;u.push(!0);var p=u.length,h=(null===(r=l[o])||void 0===r?void 0:r.values)?(0,n.Z)({},l[o].values):{};return(null===(a=l[o])||void 0===a?void 0:a.children)&&l[o].children.map((function(e){h[e]=(0,s.jsx)(d,{data:l,name:e,iterator:u})})),l[o]?(0,s.jsxs)("div",{onClick:function(e){e.stopPropagation(),i({path:"selectedId",value:o}),i({path:"selectedIterator",value:p}),i({path:"panel.right",value:"editor"}),i({path:"panel.rescent",value:!1})},className:"".concat(t===o&&"editor"===c.right?"outline outline-dashed outline-gray-100":"","  relative"),children:[t===o&&"editor"===c.right?(0,s.jsx)(V.r,{}):null,"editor"===c.right?(0,s.jsx)("div",{className:"text-xs text-white -top-1 -left-1 bg-opacity-50 absolute rounded-lg bg-black px-1 w-4 h-4 flex items-center",children:p}):null,(0,s.jsx)(k,{string:l[o].content,values:h,escapeValues:!1})]}):null},u=Object.keys(e)[0];return(0,s.jsxs)("div",{className:"relative flex h-screen overflow-hidden w-full",children:["componentproperties"===c.right?(0,s.jsx)("div",{style:{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAACxJREFUKFNjZMAEUgwMDM/QhRmhAjBJEA0DIMVwcZhCZAPwmojFBahCI9NEAI1bCCXa5DkNAAAAAElFTkSuQmCC"},className:"flex-1 h-full grid",children:(0,s.jsx)("div",{className:"w-max h-max m-auto bg-white shadow border border-stone-300",children:(0,s.jsx)(k,{string:e[t].content,values:{}})})}):(0,s.jsxs)("div",{id:"mainFrame",className:"transition-all relative  flex-1 ".concat("editor"===c.right?"m-3 border":""),children:["editor"===c.right?(0,s.jsxs)(D.x4,{absolute:!0,children:["Try editor with new blank page?",(0,s.jsx)("div",{className:"bg-lime-700 px-3 py-1 text-white rounded",children:"Yes"}),(0,s.jsx)("div",{className:"bg-orange-700 px-3 py-1 text-white rounded",children:"No"})]}):null,(0,s.jsx)(d,{data:e,name:u,iterator:[]})]}),"editor"===c.right?(0,s.jsx)(U,{}):(0,s.jsx)(s.Fragment,{}),"savepage"===c.right?(0,s.jsx)(T,{}):(0,s.jsx)(s.Fragment,{}),"loadpage"===c.right?(0,s.jsx)(R,{}):(0,s.jsx)(s.Fragment,{}),"componentslibrary"===c.right?(0,s.jsx)(F,{}):(0,s.jsx)(s.Fragment,{}),"datalayer"===c.right?(0,s.jsx)(O,{}):(0,s.jsx)(s.Fragment,{}),"componentproperties"===c.right?(0,s.jsx)(B,{}):(0,s.jsx)(s.Fragment,{}),!1===c.right?(0,s.jsx)("div",{className:"text-gray-400",children:(0,s.jsx)(S.Z,{showClose:!1})}):(0,s.jsx)(s.Fragment,{})]})};_.getInitialProps=function(){return{}};var z=_}},function(e){e.O(0,[443,764,62,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);